{"ast":null,"code":"var _jsxFileName = \"C:\\\\Scriptify\\\\ai-content-studio\\\\frontend\\\\src\\\\components\\\\Timeline.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useRef, useEffect, useCallback } from \"react\";\nimport { Video, Music, Copy, Trash2, Scissors, Film, Plus, Layers, ZoomIn, ZoomOut, RotateCcw, HelpCircle } from \"lucide-react\";\n\n// Компонент тултипа\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tooltip = ({\n  children,\n  content,\n  delay = 500\n}) => {\n  _s();\n  const [isVisible, setIsVisible] = useState(false);\n  const [mousePos, setMousePos] = useState({\n    x: 0,\n    y: 0\n  });\n  const timeoutRef = useRef(null);\n  const handleMouseEnter = e => {\n    setMousePos({\n      x: e.clientX,\n      y: e.clientY\n    });\n    timeoutRef.current = setTimeout(() => {\n      setIsVisible(true);\n    }, delay);\n  };\n  const handleMouseLeave = () => {\n    setIsVisible(false);\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  };\n  const handleMouseMove = e => {\n    setMousePos({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative inline-block\",\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onMouseMove: handleMouseMove,\n    children: [children, isVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none max-w-xs\",\n      style: {\n        left: `${mousePos.x + 10}px`,\n        top: `${mousePos.y - 40}px`,\n        transform: 'translateX(-50%)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"whitespace-pre-line\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-gray-900 rotate-45\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Tooltip, \"MVAf4gRQ3a2FmNiyb3exnakRaWM=\");\n_c = Tooltip;\nexport const Timeline = ({\n  timelineItems,\n  setTimelineItems,\n  currentTime,\n  videoDuration,\n  setVideoDuration,\n  selectedTimelineItem,\n  setSelectedTimelineItem,\n  timelineZoom,\n  setTimelineZoom,\n  tracks,\n  setTracks,\n  draggedItem,\n  draggedTimelineItem,\n  setDraggedTimelineItem,\n  dropPreview,\n  setDropPreview,\n  isDragging,\n  isTimelineDragging,\n  setIsTimelineDragging,\n  isResizing,\n  setIsResizing,\n  copiedItem,\n  formatTime,\n  seekTo,\n  splitTimelineItem,\n  copyTimelineItem,\n  pasteTimelineItem,\n  deleteSelectedItem,\n  addToTimeline,\n  insertWithRipple,\n  applyRippleEffect,\n  removeFromTimeline\n}) => {\n  _s2();\n  const timelineRef = useRef(null);\n  const timelineScrollRef = useRef(null);\n  const trackLabelsRef = useRef(null);\n  const autoScrollIntervalRef = useRef(null);\n\n  // Timeline-specific states\n  const [dragOffset, setDragOffset] = useState(0);\n  const [resizeHandle, setResizeHandle] = useState(null);\n  const [resizeItem, setResizeItem] = useState(null);\n  const [originalItemData, setOriginalItemData] = useState(null);\n\n  // Автопрокрутка\n  const stopAutoScroll = useCallback(() => {\n    if (autoScrollIntervalRef.current) {\n      clearInterval(autoScrollIntervalRef.current);\n      autoScrollIntervalRef.current = null;\n    }\n  }, []);\n  const startAutoScroll = useCallback((direction, speed = 1) => {\n    stopAutoScroll();\n    autoScrollIntervalRef.current = setInterval(() => {\n      if (timelineScrollRef.current) {\n        const scrollAmount = 15 * speed;\n        const currentScrollLeft = timelineScrollRef.current.scrollLeft;\n        const maxScroll = timelineScrollRef.current.scrollWidth - timelineScrollRef.current.clientWidth;\n        if (direction === \"left\" && currentScrollLeft > 0) {\n          timelineScrollRef.current.scrollLeft = Math.max(0, currentScrollLeft - scrollAmount);\n        } else if (direction === \"right\" && currentScrollLeft < maxScroll) {\n          timelineScrollRef.current.scrollLeft = Math.min(maxScroll, currentScrollLeft + scrollAmount);\n        }\n      }\n    }, 16);\n  }, [stopAutoScroll]);\n  const checkAutoScroll = useCallback(clientX => {\n    if (!timelineScrollRef.current) return;\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const scrollZoneWidth = 120;\n    const relativeX = clientX - rect.left;\n    if (relativeX < scrollZoneWidth && timelineScrollRef.current.scrollLeft > 0) {\n      const speed = (scrollZoneWidth - relativeX) / scrollZoneWidth * 3;\n      startAutoScroll(\"left\", speed);\n    } else if (relativeX > rect.width - scrollZoneWidth) {\n      const maxScroll = timelineScrollRef.current.scrollWidth - timelineScrollRef.current.clientWidth;\n      if (timelineScrollRef.current.scrollLeft < maxScroll) {\n        const speed = (relativeX - (rect.width - scrollZoneWidth)) / scrollZoneWidth * 3;\n        startAutoScroll(\"right\", speed);\n      }\n    } else {\n      stopAutoScroll();\n    }\n  }, [startAutoScroll, stopAutoScroll]);\n\n  // Функции зума\n  const zoomIn = () => {\n    setTimelineZoom(prev => Math.min(20, prev * 1.5));\n  };\n  const zoomOut = () => {\n    setTimelineZoom(prev => Math.max(0.1, prev / 1.5));\n  };\n  const resetZoom = () => {\n    setTimelineZoom(1);\n  };\n\n  // Функции для resize\n  const handleResizeStart = useCallback((e, item, handle) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeHandle(handle);\n    setResizeItem(item);\n    setOriginalItemData({\n      startTime: item.startTime,\n      duration: item.duration\n    });\n    setIsTimelineDragging(false);\n    setDraggedTimelineItem(null);\n  }, [setIsResizing, setIsTimelineDragging, setDraggedTimelineItem]);\n  const handleResizeEnd = useCallback(() => {\n    setIsResizing(false);\n    setResizeHandle(null);\n    setResizeItem(null);\n    setOriginalItemData(null);\n    stopAutoScroll();\n  }, [setIsResizing, stopAutoScroll]);\n\n  // Добавление треков\n  const addOverlayTrack = () => {\n    const newTrackId = `overlay-${Date.now()}`;\n    setTracks(prev => ({\n      ...prev,\n      overlays: [...prev.overlays, {\n        id: newTrackId,\n        name: `Overlay ${prev.overlays.length + 1}`,\n        type: \"overlay\"\n      }]\n    }));\n  };\n  const addAudioTrack = () => {\n    const newTrackId = `audio-${Date.now()}`;\n    setTracks(prev => ({\n      ...prev,\n      audio: [...prev.audio, {\n        id: newTrackId,\n        name: `Audio ${prev.audio.length + 1}`,\n        type: \"audio\"\n      }]\n    }));\n  };\n\n  // Синхронизация скролла\n  const handleTrackAreaScroll = e => {\n    if (trackLabelsRef.current) {\n      trackLabelsRef.current.scrollTop = e.target.scrollTop;\n    }\n  };\n  const handleTrackLabelsScroll = e => {\n    if (timelineScrollRef.current) {\n      timelineScrollRef.current.scrollTop = e.target.scrollTop;\n    }\n  };\n  const getTimelineWidth = () => {\n    const baseWidth = videoDuration * 50 * timelineZoom;\n    return Math.max(baseWidth, 2000);\n  };\n  const getPixelsPerSecond = () => {\n    return 50 * timelineZoom;\n  };\n\n  // Обработчики событий\n  const handleTimelineClick = e => {\n    if (isDragging || isTimelineDragging || isResizing) return;\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\n    const pixelsPerSecond = getPixelsPerSecond();\n    const clickTime = clickX / pixelsPerSecond;\n    seekTo(clickTime);\n  };\n  const handleTimelineItemDragStart = (e, timelineItem) => {\n    if (isResizing) {\n      e.preventDefault();\n      return;\n    }\n    e.stopPropagation();\n    setDraggedTimelineItem(timelineItem);\n    setIsTimelineDragging(true);\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const itemRect = e.target.getBoundingClientRect();\n    setDragOffset(e.clientX - itemRect.left + timelineScrollRef.current.scrollLeft);\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", \"\");\n  };\n  const handleTimelineItemDragEnd = () => {\n    setDraggedTimelineItem(null);\n    setDropPreview(null);\n    setIsTimelineDragging(false);\n    setDragOffset(0);\n    stopAutoScroll();\n  };\n  const handleDragOver = e => {\n    if (!draggedItem && !draggedTimelineItem) return;\n    e.preventDefault();\n    e.dataTransfer.dropEffect = draggedItem ? \"copy\" : \"move\";\n    if (draggedTimelineItem || isResizing) {\n      checkAutoScroll(e.clientX);\n    }\n    const timelineRect = timelineScrollRef.current.getBoundingClientRect();\n    const dragX = e.clientX - timelineRect.left + timelineScrollRef.current.scrollLeft - (draggedTimelineItem ? dragOffset : 0);\n    const pixelsPerSecond = getPixelsPerSecond();\n    const dropTime = Math.max(0, dragX / pixelsPerSecond);\n    const dragY = e.clientY - timelineRect.top + timelineScrollRef.current.scrollTop;\n    const trackHeight = 60;\n    const timeRulerHeight = 48;\n    const relativeY = dragY - timeRulerHeight;\n    const trackIndex = Math.floor(relativeY / trackHeight);\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\n    const targetTrack = allTracks[trackIndex];\n    if (draggedItem && targetTrack) {\n      const duration = draggedItem.duration || (draggedItem.type === \"image\" ? 5 : 10);\n      const insertResult = insertWithRipple(targetTrack.id, dropTime, duration);\n      setDropPreview({\n        time: insertResult.time,\n        duration: duration,\n        trackId: targetTrack.id,\n        trackType: targetTrack.type,\n        isValid: true,\n        shouldRipple: insertResult.shouldRipple,\n        affectedItems: insertResult.affectedItems || []\n      });\n    } else if (draggedTimelineItem && targetTrack) {\n      const insertResult = insertWithRipple(targetTrack.id, dropTime, draggedTimelineItem.duration, draggedTimelineItem.id);\n      setDropPreview({\n        time: insertResult.time,\n        duration: draggedTimelineItem.duration,\n        trackId: targetTrack.id,\n        trackType: targetTrack.type,\n        isValid: true,\n        shouldRipple: insertResult.shouldRipple,\n        affectedItems: insertResult.affectedItems || []\n      });\n    }\n  };\n  const handleDrop = e => {\n    if (!draggedItem && !draggedTimelineItem || !dropPreview) return;\n    e.preventDefault();\n    stopAutoScroll();\n    if (dropPreview.isValid) {\n      if (draggedItem) {\n        var _dropPreview$affected;\n        if (dropPreview.shouldRipple && ((_dropPreview$affected = dropPreview.affectedItems) === null || _dropPreview$affected === void 0 ? void 0 : _dropPreview$affected.length) > 0) {\n          applyRippleEffect(dropPreview.affectedItems, dropPreview.duration);\n        }\n        addToTimeline(draggedItem, dropPreview.time, dropPreview.trackId);\n      } else if (draggedTimelineItem) {\n        var _dropPreview$affected2;\n        if (dropPreview.shouldRipple && ((_dropPreview$affected2 = dropPreview.affectedItems) === null || _dropPreview$affected2 === void 0 ? void 0 : _dropPreview$affected2.length) > 0) {\n          applyRippleEffect(dropPreview.affectedItems, draggedTimelineItem.duration);\n        }\n        setTimelineItems(prev => prev.map(item => item.id === draggedTimelineItem.id ? {\n          ...item,\n          startTime: dropPreview.time,\n          trackId: dropPreview.trackId,\n          trackType: dropPreview.trackType\n        } : item));\n        const newEndTime = dropPreview.time + draggedTimelineItem.duration;\n        if (newEndTime > videoDuration) {\n          setVideoDuration(newEndTime + 10);\n        }\n      }\n    }\n    setDropPreview(null);\n    setIsTimelineDragging(false);\n  };\n  const handleDragLeave = e => {\n    var _timelineRef$current;\n    if (!((_timelineRef$current = timelineRef.current) !== null && _timelineRef$current !== void 0 && _timelineRef$current.contains(e.relatedTarget))) {\n      setDropPreview(null);\n      stopAutoScroll();\n    }\n  };\n  const getTimelineItemStyle = item => {\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\n    const trackIndex = allTracks.findIndex(track => track.id === item.trackId);\n    const pixelsPerSecond = getPixelsPerSecond();\n    return {\n      left: `${item.startTime * pixelsPerSecond}px`,\n      width: `${item.duration * pixelsPerSecond}px`,\n      top: `${trackIndex * 60 + 10}px`\n    };\n  };\n  const getDropPreviewStyle = () => {\n    if (!dropPreview) return {};\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\n    const trackIndex = allTracks.findIndex(track => track.id === dropPreview.trackId);\n    const pixelsPerSecond = getPixelsPerSecond();\n    return {\n      left: `${dropPreview.time * pixelsPerSecond}px`,\n      width: `${dropPreview.duration * pixelsPerSecond}px`,\n      top: `${trackIndex * 60 + 10}px`\n    };\n  };\n  const getTrackColor = trackType => {\n    switch (trackType) {\n      case \"overlay\":\n        return \"bg-purple-500 border-purple-400\";\n      case \"main\":\n        return \"bg-blue-500 border-blue-400\";\n      case \"audio\":\n        return \"bg-green-500 border-green-400\";\n      default:\n        return \"bg-gray-500 border-gray-400\";\n    }\n  };\n\n  // Эффекты\n  useEffect(() => {\n    const handleMouseMove = e => {\n      if (!isResizing || !resizeItem || !timelineScrollRef.current) return;\n      checkAutoScroll(e.clientX);\n      const rect = timelineScrollRef.current.getBoundingClientRect();\n      const mouseX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\n      const pixelsPerSecond = getPixelsPerSecond();\n      const newTime = mouseX / pixelsPerSecond;\n      setTimelineItems(prev => prev.map(item => {\n        if (item.id !== resizeItem.id) return item;\n        const minDuration = 0.1;\n        if (resizeHandle === \"left\") {\n          const rightEdge = originalItemData.startTime + originalItemData.duration;\n          const newStartTime = Math.max(0, Math.min(rightEdge - minDuration, newTime));\n          const newDuration = rightEdge - newStartTime;\n          return {\n            ...item,\n            startTime: newStartTime,\n            duration: newDuration\n          };\n        } else if (resizeHandle === \"right\") {\n          const leftEdge = originalItemData.startTime;\n          const newEndTime = Math.max(leftEdge + minDuration, newTime);\n          const newDuration = newEndTime - leftEdge;\n          return {\n            ...item,\n            duration: newDuration\n          };\n        }\n        return item;\n      }));\n    };\n    const handleMouseUp = () => {\n      if (isResizing) {\n        handleResizeEnd();\n      }\n    };\n    if (isResizing) {\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [isResizing, resizeItem, resizeHandle, originalItemData, getPixelsPerSecond, checkAutoScroll, handleResizeEnd, setTimelineItems]);\n  useEffect(() => {\n    return () => {\n      stopAutoScroll();\n    };\n  }, [stopAutoScroll]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-80 bg-white rounded-2xl shadow-sm border-2 transition-all duration-200 overflow-hidden flex flex-col flex-shrink-0 ${isDragging || isTimelineDragging || isResizing ? \"border-blue-400 bg-blue-50/20\" : \"border-gray-200\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 p-4 border-b border-gray-200 space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-gray-800 font-semibold flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Film, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Timeline Pro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this), isDragging && dropPreview && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600\",\n            children: [\"- Adding \\\"\", draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.name, \"\\\"\", \" \", dropPreview.shouldRipple ? \"⚡ ripple\" : \"📍 exact\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this), isTimelineDragging && dropPreview && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600\",\n            children: [\"- Moving \\\"\", draggedTimelineItem === null || draggedTimelineItem === void 0 ? void 0 : draggedTimelineItem.name, \"\\\"\", \" \", dropPreview.shouldRipple ? \"⚡ push blocks\" : \"📍 exact\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this), isResizing && resizeItem && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-orange-600\",\n            children: [\"- Trimming \\\"\", resizeItem.name, \"\\\" (\", resizeHandle, \" edge)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 15\n          }, this), copiedItem && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-600 text-sm\",\n            children: [\"- \\\"\", copiedItem.name, \"\\\" copied (Ctrl+V to paste)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Keyboard shortcuts:\\\\n\\\\nPlayback:\\\\n\\u2022 Spacebar: Play/Pause\\\\n\\u2022 \\u2190\\u2192: Frame by frame\\\\n\\u2022 Shift+\\u2190\\u2192: By seconds\\\\n\\u2022 Ctrl+\\u2190\\u2192: By 5 seconds\\\\n\\\\nEditing:\\\\n\\u2022 Ctrl+C: Copy selected\\\\n\\u2022 Ctrl+V: Paste at current time\\\\n\\u2022 Ctrl+B: Split at current time\\\\n\\u2022 Del/Backspace: Delete selected\\\\n\\\\nZoom & Navigation:\\\\n\\u2022 +/-: Zoom in/out\\\\n\\u2022 0: Reset zoom\\\\n\\u2022 Ctrl+Wheel: Zoom at mouse\\\\n\\\\nTimeline:\\\\n\\u2022 Drag edges: Trim clips\\\\n\\u2022 Drag center: Move with ripple\\\\n\\u2022 Auto-scroll at edges\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-2 text-gray-500 hover:text-blue-600 transition-colors rounded-lg hover:bg-gray-100\",\n              children: /*#__PURE__*/_jsxDEV(HelpCircle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 bg-white rounded-xl p-2 border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Zoom out (-)\\\\nMakes timeline show more time\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: zoomOut,\n                className: \"p-1 text-gray-600 hover:text-blue-600 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500 min-w-12 text-center\",\n              children: [(timelineZoom * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Zoom in (+)\\\\nOr Ctrl+Wheel over timeline\\\\nShows more detail\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: zoomIn,\n                className: \"p-1 text-gray-600 hover:text-blue-600 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Reset zoom (0)\\\\nReturns to default view\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: resetZoom,\n                className: \"p-1 text-gray-600 hover:text-blue-600 transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Add overlay track\\\\nFor images and Picture-in-Picture videos\\\\nShows above main content\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addOverlayTrack,\n                className: \"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded-xl transition-all duration-200\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Add audio track\\\\nFor music, sound effects, and voiceovers\\\\nMixes with other audio\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addAudioTrack,\n                className: \"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-xl transition-all duration-200\",\n                children: /*#__PURE__*/_jsxDEV(Music, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Split selected item (Ctrl+B)\\\\nCuts clip at current playhead position\\\\nCreates two separate clips\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: splitTimelineItem,\n                disabled: !selectedTimelineItem,\n                className: `p-2 rounded-xl transition-all duration-200 ${selectedTimelineItem ? \"text-red-600 hover:text-red-800 hover:bg-red-50\" : \"text-gray-400 cursor-not-allowed\"}`,\n                children: /*#__PURE__*/_jsxDEV(Scissors, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Copy selected item (Ctrl+C)\\\\nCopies clip to clipboard\\\\nUse Ctrl+V to paste\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: copyTimelineItem,\n                disabled: !selectedTimelineItem,\n                className: `p-2 rounded-xl transition-all duration-200 ${selectedTimelineItem ? \"text-blue-600 hover:text-blue-800 hover:bg-blue-50\" : \"text-gray-400 cursor-not-allowed\"}`,\n                children: /*#__PURE__*/_jsxDEV(Copy, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 677,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Paste copied item (Ctrl+V)\\\\nPastes at current playhead position\\\\nUses ripple mode to push other clips\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: pasteTimelineItem,\n                disabled: !copiedItem,\n                className: `p-2 rounded-xl transition-all duration-200 ${copiedItem ? \"text-green-600 hover:text-green-800 hover:bg-green-50\" : \"text-gray-400 cursor-not-allowed\"}`,\n                children: /*#__PURE__*/_jsxDEV(Copy, {\n                  size: 16,\n                  className: \"rotate-180\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: \"Delete selected item (Del/Backspace)\\\\nRemoves clip from timeline\\\\nCannot be undone\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: deleteSelectedItem,\n                disabled: !selectedTimelineItem,\n                className: `p-2 rounded-xl transition-all duration-200 ${selectedTimelineItem ? \"text-red-600 hover:text-red-800 hover:bg-red-50\" : \"text-gray-400 cursor-not-allowed\"}`,\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 635,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex min-h-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-48 bg-gray-50 border-r border-gray-200 flex-shrink-0 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-12 border-b border-gray-200 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: trackLabelsRef,\n          className: \"flex-1 overflow-y-auto overflow-x-hidden\",\n          onScroll: handleTrackLabelsScroll,\n          children: [tracks.overlays.map(track => /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Overlay Track\\\\nFor images and picture-in-picture videos\\\\nShows above main content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-purple-700 bg-purple-50 flex-shrink-0\",\n              style: {\n                height: \"60px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Layers, {\n                size: 16,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this), track.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 17\n            }, this)\n          }, track.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this)), tracks.main.map(track => /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Main Video Track\\\\nPrimary video content\\\\nBackground layer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-blue-700 bg-blue-50 flex-shrink-0\",\n              style: {\n                height: \"60px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Video, {\n                size: 16,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 19\n              }, this), track.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this)\n          }, track.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this)), tracks.audio.map(track => /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Audio Track\\\\nFor music, sound effects, voiceovers\\\\nMixes with other audio tracks\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-green-700 bg-green-50 flex-shrink-0\",\n              style: {\n                height: \"60px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Music, {\n                size: 16,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 19\n              }, this), track.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this)\n          }, track.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => {\n          timelineRef.current = el;\n          timelineScrollRef.current = el;\n        },\n        className: \"flex-1 relative overflow-auto bg-white\",\n        onScroll: handleTrackAreaScroll,\n        onDragOver: handleDragOver,\n        onDrop: handleDrop,\n        onDragLeave: handleDragLeave,\n        style: {\n          overflowX: \"auto\",\n          overflowY: \"auto\",\n          scrollbarWidth: \"thin\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          content: \"Timeline ruler\\\\nClick anywhere to seek to that time\\\\nShows timestamps and current playhead position\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: `${getTimelineWidth()}px`,\n              minHeight: \"100%\",\n              position: \"relative\"\n            },\n            onClick: handleTimelineClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-12 bg-gray-50 border-b border-gray-200 relative flex-shrink-0\",\n              children: [Array.from({\n                length: Math.ceil(videoDuration * timelineZoom / 5) + 1\n              }, (_, i) => {\n                const timeValue = i * 5 / timelineZoom;\n                const pixelsPerSecond = getPixelsPerSecond();\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-0 h-full border-l border-gray-300\",\n                  style: {\n                    left: `${timeValue * pixelsPerSecond}px`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-600 ml-2 mt-2 inline-block font-medium\",\n                    children: formatTime(timeValue)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 795,\n                    columnNumber: 25\n                  }, this)\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 23\n                }, this);\n              }), timelineZoom > 2 && Array.from({\n                length: Math.ceil(videoDuration * timelineZoom) + 1\n              }, (_, i) => {\n                const timeValue = i / timelineZoom;\n                const pixelsPerSecond = getPixelsPerSecond();\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-8 w-0 h-4 border-l border-gray-200\",\n                  style: {\n                    left: `${timeValue * pixelsPerSecond}px`\n                  }\n                }, `sub-${i}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 810,\n                  columnNumber: 25\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 w-0.5 h-full bg-red-500 z-20 shadow-sm\",\n                style: {\n                  left: `${currentTime * getPixelsPerSecond()}px`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex-1\",\n              style: {\n                height: `${(tracks.overlays.length + tracks.main.length + tracks.audio.length) * 60}px`,\n                minHeight: \"100%\"\n              },\n              children: [timelineItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute h-10 rounded-lg border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md group ${getTrackColor(item.trackType)} ${(selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === item.id ? \"ring-2 ring-blue-300\" : \"\"} ${(draggedTimelineItem === null || draggedTimelineItem === void 0 ? void 0 : draggedTimelineItem.id) === item.id ? \"opacity-50 z-30\" : \"\"} ${(copiedItem === null || copiedItem === void 0 ? void 0 : copiedItem.id) === item.id ? \"ring-2 ring-green-300 ring-dashed\" : \"\"}`,\n                style: getTimelineItemStyle(item),\n                onClick: e => {\n                  e.stopPropagation();\n                  setSelectedTimelineItem(item);\n                },\n                children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: \"Trim start\\\\nDrag left edge to adjust start time\\\\nShortens clip from beginning\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute left-0 top-0 w-3 h-full cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/50 rounded-l-lg z-10 flex items-center justify-center\",\n                    onMouseDown: e => handleResizeStart(e, item, \"left\"),\n                    style: {\n                      background: \"linear-gradient(to right, rgba(255,255,255,0.8), transparent)\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-0.5 h-6 bg-white rounded-full opacity-80\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 870,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: `${item.name}\\n\\nActions:\\n• Click to select\\n• Drag center to move\\n• Ripple mode: pushes other clips\\n• Auto-scroll at timeline edges`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    draggable: \"true\",\n                    onDragStart: e => handleTimelineItemDragStart(e, item),\n                    onDragEnd: handleTimelineItemDragEnd,\n                    className: \"p-2 text-white text-xs truncate font-medium flex items-center h-full mx-3 cursor-grab active:cursor-grabbing\",\n                    children: [item.name, (copiedItem === null || copiedItem === void 0 ? void 0 : copiedItem.id) === item.id && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2 text-green-200\",\n                      children: \"\\uD83D\\uDCCB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 883,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 875,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: \"Trim end\\\\nDrag right edge to adjust duration\\\\nShortens clip from end\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute right-0 top-0 w-3 h-full cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/50 rounded-r-lg z-10 flex items-center justify-center\",\n                    onMouseDown: e => handleResizeStart(e, item, \"right\"),\n                    style: {\n                      background: \"linear-gradient(to left, rgba(255,255,255,0.8), transparent)\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-0.5 h-6 bg-white rounded-full opacity-80\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 897,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 19\n              }, this)), dropPreview && /*#__PURE__*/_jsxDEV(Tooltip, {\n                content: `Drop preview\\n${dropPreview.shouldRipple ? '⚡ Ripple mode: Will push other clips' : '📍 Exact placement: Fits in gap'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `absolute h-10 rounded-lg border-2 transition-all ${dropPreview.isValid ? dropPreview.shouldRipple ? `${getTrackColor(dropPreview.trackType)} bg-opacity-40 border-dashed animate-pulse` : `${getTrackColor(dropPreview.trackType)} bg-opacity-60 border-solid` : \"bg-red-300 border-red-500 border-dashed\"}`,\n                  style: getDropPreviewStyle(),\n                  children: dropPreview.isValid && dropPreview.shouldRipple && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center h-full text-white text-xs font-bold\",\n                    children: \"\\u26A1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 920,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 561,\n    columnNumber: 5\n  }, this);\n};\n_s2(Timeline, \"dzyxCEKmZZ7CgKWucu+imjQ1fVc=\");\n_c2 = Timeline;\nvar _c, _c2;\n$RefreshReg$(_c, \"Tooltip\");\n$RefreshReg$(_c2, \"Timeline\");","map":{"version":3,"names":["useState","useRef","useEffect","useCallback","Video","Music","Copy","Trash2","Scissors","Film","Plus","Layers","ZoomIn","ZoomOut","RotateCcw","HelpCircle","jsxDEV","_jsxDEV","Tooltip","children","content","delay","_s","isVisible","setIsVisible","mousePos","setMousePos","x","y","timeoutRef","handleMouseEnter","e","clientX","clientY","current","setTimeout","handleMouseLeave","clearTimeout","handleMouseMove","className","onMouseEnter","onMouseLeave","onMouseMove","style","left","top","transform","fileName","_jsxFileName","lineNumber","columnNumber","_c","Timeline","timelineItems","setTimelineItems","currentTime","videoDuration","setVideoDuration","selectedTimelineItem","setSelectedTimelineItem","timelineZoom","setTimelineZoom","tracks","setTracks","draggedItem","draggedTimelineItem","setDraggedTimelineItem","dropPreview","setDropPreview","isDragging","isTimelineDragging","setIsTimelineDragging","isResizing","setIsResizing","copiedItem","formatTime","seekTo","splitTimelineItem","copyTimelineItem","pasteTimelineItem","deleteSelectedItem","addToTimeline","insertWithRipple","applyRippleEffect","removeFromTimeline","_s2","timelineRef","timelineScrollRef","trackLabelsRef","autoScrollIntervalRef","dragOffset","setDragOffset","resizeHandle","setResizeHandle","resizeItem","setResizeItem","originalItemData","setOriginalItemData","stopAutoScroll","clearInterval","startAutoScroll","direction","speed","setInterval","scrollAmount","currentScrollLeft","scrollLeft","maxScroll","scrollWidth","clientWidth","Math","max","min","checkAutoScroll","rect","getBoundingClientRect","scrollZoneWidth","relativeX","width","zoomIn","prev","zoomOut","resetZoom","handleResizeStart","item","handle","preventDefault","stopPropagation","startTime","duration","handleResizeEnd","addOverlayTrack","newTrackId","Date","now","overlays","id","name","length","type","addAudioTrack","audio","handleTrackAreaScroll","scrollTop","target","handleTrackLabelsScroll","getTimelineWidth","baseWidth","getPixelsPerSecond","handleTimelineClick","clickX","pixelsPerSecond","clickTime","handleTimelineItemDragStart","timelineItem","itemRect","dataTransfer","effectAllowed","setData","handleTimelineItemDragEnd","handleDragOver","dropEffect","timelineRect","dragX","dropTime","dragY","trackHeight","timeRulerHeight","relativeY","trackIndex","floor","allTracks","main","targetTrack","insertResult","time","trackId","trackType","isValid","shouldRipple","affectedItems","handleDrop","_dropPreview$affected","_dropPreview$affected2","map","newEndTime","handleDragLeave","_timelineRef$current","contains","relatedTarget","getTimelineItemStyle","findIndex","track","getDropPreviewStyle","getTrackColor","mouseX","newTime","minDuration","rightEdge","newStartTime","newDuration","leftEdge","handleMouseUp","document","addEventListener","removeEventListener","size","onClick","toFixed","disabled","ref","onScroll","height","el","onDragOver","onDrop","onDragLeave","overflowX","overflowY","scrollbarWidth","minHeight","position","Array","from","ceil","_","i","timeValue","onMouseDown","background","draggable","onDragStart","onDragEnd","_c2","$RefreshReg$"],"sources":["C:/Scriptify/ai-content-studio/frontend/src/components/Timeline.jsx"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Video,\r\n  Music,\r\n  Copy,\r\n  Trash2,\r\n  Scissors,\r\n  Film,\r\n  Plus,\r\n  Layers,\r\n  ZoomIn,\r\n  ZoomOut,\r\n  RotateCcw,\r\n  HelpCircle\r\n} from \"lucide-react\";\r\n\r\n// Компонент тултипа\r\nconst Tooltip = ({ children, content, delay = 500 }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\r\n  const timeoutRef = useRef(null);\r\n\r\n  const handleMouseEnter = (e) => {\r\n    setMousePos({ x: e.clientX, y: e.clientY });\r\n    timeoutRef.current = setTimeout(() => {\r\n      setIsVisible(true);\r\n    }, delay);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setIsVisible(false);\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    setMousePos({ x: e.clientX, y: e.clientY });\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div \r\n      className=\"relative inline-block\"\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      onMouseMove={handleMouseMove}\r\n    >\r\n      {children}\r\n      {isVisible && (\r\n        <div\r\n          className=\"fixed z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none max-w-xs\"\r\n          style={{\r\n            left: `${mousePos.x + 10}px`,\r\n            top: `${mousePos.y - 40}px`,\r\n            transform: 'translateX(-50%)',\r\n          }}\r\n        >\r\n          <div className=\"whitespace-pre-line\">{content}</div>\r\n          <div className=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full\">\r\n            <div className=\"w-2 h-2 bg-gray-900 rotate-45\"></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Timeline = ({\r\n  timelineItems,\r\n  setTimelineItems,\r\n  currentTime,\r\n  videoDuration,\r\n  setVideoDuration,\r\n  selectedTimelineItem,\r\n  setSelectedTimelineItem,\r\n  timelineZoom,\r\n  setTimelineZoom,\r\n  tracks,\r\n  setTracks,\r\n  draggedItem,\r\n  draggedTimelineItem,\r\n  setDraggedTimelineItem,\r\n  dropPreview,\r\n  setDropPreview,\r\n  isDragging,\r\n  isTimelineDragging,\r\n  setIsTimelineDragging,\r\n  isResizing,\r\n  setIsResizing,\r\n  copiedItem,\r\n  formatTime,\r\n  seekTo,\r\n  splitTimelineItem,\r\n  copyTimelineItem,\r\n  pasteTimelineItem,\r\n  deleteSelectedItem,\r\n  addToTimeline,\r\n  insertWithRipple,\r\n  applyRippleEffect,\r\n  removeFromTimeline,\r\n}) => {\r\n  const timelineRef = useRef(null);\r\n  const timelineScrollRef = useRef(null);\r\n  const trackLabelsRef = useRef(null);\r\n  const autoScrollIntervalRef = useRef(null);\r\n\r\n  // Timeline-specific states\r\n  const [dragOffset, setDragOffset] = useState(0);\r\n  const [resizeHandle, setResizeHandle] = useState(null);\r\n  const [resizeItem, setResizeItem] = useState(null);\r\n  const [originalItemData, setOriginalItemData] = useState(null);\r\n\r\n  // Автопрокрутка\r\n  const stopAutoScroll = useCallback(() => {\r\n    if (autoScrollIntervalRef.current) {\r\n      clearInterval(autoScrollIntervalRef.current);\r\n      autoScrollIntervalRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const startAutoScroll = useCallback(\r\n    (direction, speed = 1) => {\r\n      stopAutoScroll();\r\n\r\n      autoScrollIntervalRef.current = setInterval(() => {\r\n        if (timelineScrollRef.current) {\r\n          const scrollAmount = 15 * speed;\r\n          const currentScrollLeft = timelineScrollRef.current.scrollLeft;\r\n          const maxScroll =\r\n            timelineScrollRef.current.scrollWidth -\r\n            timelineScrollRef.current.clientWidth;\r\n\r\n          if (direction === \"left\" && currentScrollLeft > 0) {\r\n            timelineScrollRef.current.scrollLeft = Math.max(\r\n              0,\r\n              currentScrollLeft - scrollAmount\r\n            );\r\n          } else if (direction === \"right\" && currentScrollLeft < maxScroll) {\r\n            timelineScrollRef.current.scrollLeft = Math.min(\r\n              maxScroll,\r\n              currentScrollLeft + scrollAmount\r\n            );\r\n          }\r\n        }\r\n      }, 16);\r\n    },\r\n    [stopAutoScroll]\r\n  );\r\n\r\n  const checkAutoScroll = useCallback(\r\n    (clientX) => {\r\n      if (!timelineScrollRef.current) return;\r\n\r\n      const rect = timelineScrollRef.current.getBoundingClientRect();\r\n      const scrollZoneWidth = 120;\r\n      const relativeX = clientX - rect.left;\r\n\r\n      if (\r\n        relativeX < scrollZoneWidth &&\r\n        timelineScrollRef.current.scrollLeft > 0\r\n      ) {\r\n        const speed = ((scrollZoneWidth - relativeX) / scrollZoneWidth) * 3;\r\n        startAutoScroll(\"left\", speed);\r\n      } else if (relativeX > rect.width - scrollZoneWidth) {\r\n        const maxScroll =\r\n          timelineScrollRef.current.scrollWidth -\r\n          timelineScrollRef.current.clientWidth;\r\n        if (timelineScrollRef.current.scrollLeft < maxScroll) {\r\n          const speed =\r\n            ((relativeX - (rect.width - scrollZoneWidth)) / scrollZoneWidth) *\r\n            3;\r\n          startAutoScroll(\"right\", speed);\r\n        }\r\n      } else {\r\n        stopAutoScroll();\r\n      }\r\n    },\r\n    [startAutoScroll, stopAutoScroll]\r\n  );\r\n\r\n  // Функции зума\r\n  const zoomIn = () => {\r\n    setTimelineZoom((prev) => Math.min(20, prev * 1.5));\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    setTimelineZoom((prev) => Math.max(0.1, prev / 1.5));\r\n  };\r\n\r\n  const resetZoom = () => {\r\n    setTimelineZoom(1);\r\n  };\r\n\r\n  // Функции для resize\r\n  const handleResizeStart = useCallback(\r\n    (e, item, handle) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setIsResizing(true);\r\n      setResizeHandle(handle);\r\n      setResizeItem(item);\r\n      setOriginalItemData({\r\n        startTime: item.startTime,\r\n        duration: item.duration,\r\n      });\r\n\r\n      setIsTimelineDragging(false);\r\n      setDraggedTimelineItem(null);\r\n    },\r\n    [setIsResizing, setIsTimelineDragging, setDraggedTimelineItem]\r\n  );\r\n\r\n  const handleResizeEnd = useCallback(() => {\r\n    setIsResizing(false);\r\n    setResizeHandle(null);\r\n    setResizeItem(null);\r\n    setOriginalItemData(null);\r\n    stopAutoScroll();\r\n  }, [setIsResizing, stopAutoScroll]);\r\n\r\n  // Добавление треков\r\n  const addOverlayTrack = () => {\r\n    const newTrackId = `overlay-${Date.now()}`;\r\n    setTracks((prev) => ({\r\n      ...prev,\r\n      overlays: [\r\n        ...prev.overlays,\r\n        {\r\n          id: newTrackId,\r\n          name: `Overlay ${prev.overlays.length + 1}`,\r\n          type: \"overlay\",\r\n        },\r\n      ],\r\n    }));\r\n  };\r\n\r\n  const addAudioTrack = () => {\r\n    const newTrackId = `audio-${Date.now()}`;\r\n    setTracks((prev) => ({\r\n      ...prev,\r\n      audio: [\r\n        ...prev.audio,\r\n        {\r\n          id: newTrackId,\r\n          name: `Audio ${prev.audio.length + 1}`,\r\n          type: \"audio\",\r\n        },\r\n      ],\r\n    }));\r\n  };\r\n\r\n  // Синхронизация скролла\r\n  const handleTrackAreaScroll = (e) => {\r\n    if (trackLabelsRef.current) {\r\n      trackLabelsRef.current.scrollTop = e.target.scrollTop;\r\n    }\r\n  };\r\n\r\n  const handleTrackLabelsScroll = (e) => {\r\n    if (timelineScrollRef.current) {\r\n      timelineScrollRef.current.scrollTop = e.target.scrollTop;\r\n    }\r\n  };\r\n\r\n  const getTimelineWidth = () => {\r\n    const baseWidth = videoDuration * 50 * timelineZoom;\r\n    return Math.max(baseWidth, 2000);\r\n  };\r\n\r\n  const getPixelsPerSecond = () => {\r\n    return 50 * timelineZoom;\r\n  };\r\n\r\n  // Обработчики событий\r\n  const handleTimelineClick = (e) => {\r\n    if (isDragging || isTimelineDragging || isResizing) return;\r\n\r\n    const rect = timelineScrollRef.current.getBoundingClientRect();\r\n    const clickX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\r\n    const pixelsPerSecond = getPixelsPerSecond();\r\n    const clickTime = clickX / pixelsPerSecond;\r\n    seekTo(clickTime);\r\n  };\r\n\r\n  const handleTimelineItemDragStart = (e, timelineItem) => {\r\n    if (isResizing) {\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n\r\n    e.stopPropagation();\r\n    setDraggedTimelineItem(timelineItem);\r\n    setIsTimelineDragging(true);\r\n\r\n    const rect = timelineScrollRef.current.getBoundingClientRect();\r\n    const itemRect = e.target.getBoundingClientRect();\r\n    setDragOffset(\r\n      e.clientX - itemRect.left + timelineScrollRef.current.scrollLeft\r\n    );\r\n\r\n    e.dataTransfer.effectAllowed = \"move\";\r\n    e.dataTransfer.setData(\"text/plain\", \"\");\r\n  };\r\n\r\n  const handleTimelineItemDragEnd = () => {\r\n    setDraggedTimelineItem(null);\r\n    setDropPreview(null);\r\n    setIsTimelineDragging(false);\r\n    setDragOffset(0);\r\n    stopAutoScroll();\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    if (!draggedItem && !draggedTimelineItem) return;\r\n\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = draggedItem ? \"copy\" : \"move\";\r\n\r\n    if (draggedTimelineItem || isResizing) {\r\n      checkAutoScroll(e.clientX);\r\n    }\r\n\r\n    const timelineRect = timelineScrollRef.current.getBoundingClientRect();\r\n    const dragX =\r\n      e.clientX -\r\n      timelineRect.left +\r\n      timelineScrollRef.current.scrollLeft -\r\n      (draggedTimelineItem ? dragOffset : 0);\r\n    const pixelsPerSecond = getPixelsPerSecond();\r\n    const dropTime = Math.max(0, dragX / pixelsPerSecond);\r\n\r\n    const dragY =\r\n      e.clientY - timelineRect.top + timelineScrollRef.current.scrollTop;\r\n    const trackHeight = 60;\r\n    const timeRulerHeight = 48;\r\n\r\n    const relativeY = dragY - timeRulerHeight;\r\n    const trackIndex = Math.floor(relativeY / trackHeight);\r\n\r\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\r\n    const targetTrack = allTracks[trackIndex];\r\n\r\n    if (draggedItem && targetTrack) {\r\n      const duration =\r\n        draggedItem.duration || (draggedItem.type === \"image\" ? 5 : 10);\r\n      const insertResult = insertWithRipple(targetTrack.id, dropTime, duration);\r\n\r\n      setDropPreview({\r\n        time: insertResult.time,\r\n        duration: duration,\r\n        trackId: targetTrack.id,\r\n        trackType: targetTrack.type,\r\n        isValid: true,\r\n        shouldRipple: insertResult.shouldRipple,\r\n        affectedItems: insertResult.affectedItems || [],\r\n      });\r\n    } else if (draggedTimelineItem && targetTrack) {\r\n      const insertResult = insertWithRipple(\r\n        targetTrack.id,\r\n        dropTime,\r\n        draggedTimelineItem.duration,\r\n        draggedTimelineItem.id\r\n      );\r\n\r\n      setDropPreview({\r\n        time: insertResult.time,\r\n        duration: draggedTimelineItem.duration,\r\n        trackId: targetTrack.id,\r\n        trackType: targetTrack.type,\r\n        isValid: true,\r\n        shouldRipple: insertResult.shouldRipple,\r\n        affectedItems: insertResult.affectedItems || [],\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    if ((!draggedItem && !draggedTimelineItem) || !dropPreview) return;\r\n\r\n    e.preventDefault();\r\n    stopAutoScroll();\r\n\r\n    if (dropPreview.isValid) {\r\n      if (draggedItem) {\r\n        if (dropPreview.shouldRipple && dropPreview.affectedItems?.length > 0) {\r\n          applyRippleEffect(dropPreview.affectedItems, dropPreview.duration);\r\n        }\r\n        addToTimeline(draggedItem, dropPreview.time, dropPreview.trackId);\r\n      } else if (draggedTimelineItem) {\r\n        if (dropPreview.shouldRipple && dropPreview.affectedItems?.length > 0) {\r\n          applyRippleEffect(\r\n            dropPreview.affectedItems,\r\n            draggedTimelineItem.duration\r\n          );\r\n        }\r\n\r\n        setTimelineItems((prev) =>\r\n          prev.map((item) =>\r\n            item.id === draggedTimelineItem.id\r\n              ? {\r\n                  ...item,\r\n                  startTime: dropPreview.time,\r\n                  trackId: dropPreview.trackId,\r\n                  trackType: dropPreview.trackType,\r\n                }\r\n              : item\r\n          )\r\n        );\r\n\r\n        const newEndTime = dropPreview.time + draggedTimelineItem.duration;\r\n        if (newEndTime > videoDuration) {\r\n          setVideoDuration(newEndTime + 10);\r\n        }\r\n      }\r\n    }\r\n\r\n    setDropPreview(null);\r\n    setIsTimelineDragging(false);\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    if (!timelineRef.current?.contains(e.relatedTarget)) {\r\n      setDropPreview(null);\r\n      stopAutoScroll();\r\n    }\r\n  };\r\n\r\n  const getTimelineItemStyle = (item) => {\r\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\r\n    const trackIndex = allTracks.findIndex(\r\n      (track) => track.id === item.trackId\r\n    );\r\n    const pixelsPerSecond = getPixelsPerSecond();\r\n\r\n    return {\r\n      left: `${item.startTime * pixelsPerSecond}px`,\r\n      width: `${item.duration * pixelsPerSecond}px`,\r\n      top: `${trackIndex * 60 + 10}px`,\r\n    };\r\n  };\r\n\r\n  const getDropPreviewStyle = () => {\r\n    if (!dropPreview) return {};\r\n\r\n    const allTracks = [...tracks.overlays, ...tracks.main, ...tracks.audio];\r\n    const trackIndex = allTracks.findIndex(\r\n      (track) => track.id === dropPreview.trackId\r\n    );\r\n    const pixelsPerSecond = getPixelsPerSecond();\r\n\r\n    return {\r\n      left: `${dropPreview.time * pixelsPerSecond}px`,\r\n      width: `${dropPreview.duration * pixelsPerSecond}px`,\r\n      top: `${trackIndex * 60 + 10}px`,\r\n    };\r\n  };\r\n\r\n  const getTrackColor = (trackType) => {\r\n    switch (trackType) {\r\n      case \"overlay\":\r\n        return \"bg-purple-500 border-purple-400\";\r\n      case \"main\":\r\n        return \"bg-blue-500 border-blue-400\";\r\n      case \"audio\":\r\n        return \"bg-green-500 border-green-400\";\r\n      default:\r\n        return \"bg-gray-500 border-gray-400\";\r\n    }\r\n  };\r\n\r\n  // Эффекты\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => {\r\n      if (!isResizing || !resizeItem || !timelineScrollRef.current) return;\r\n\r\n      checkAutoScroll(e.clientX);\r\n\r\n      const rect = timelineScrollRef.current.getBoundingClientRect();\r\n      const mouseX =\r\n        e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\r\n      const pixelsPerSecond = getPixelsPerSecond();\r\n      const newTime = mouseX / pixelsPerSecond;\r\n\r\n      setTimelineItems((prev) =>\r\n        prev.map((item) => {\r\n          if (item.id !== resizeItem.id) return item;\r\n\r\n          const minDuration = 0.1;\r\n\r\n          if (resizeHandle === \"left\") {\r\n            const rightEdge =\r\n              originalItemData.startTime + originalItemData.duration;\r\n            const newStartTime = Math.max(\r\n              0,\r\n              Math.min(rightEdge - minDuration, newTime)\r\n            );\r\n            const newDuration = rightEdge - newStartTime;\r\n\r\n            return {\r\n              ...item,\r\n              startTime: newStartTime,\r\n              duration: newDuration,\r\n            };\r\n          } else if (resizeHandle === \"right\") {\r\n            const leftEdge = originalItemData.startTime;\r\n            const newEndTime = Math.max(leftEdge + minDuration, newTime);\r\n            const newDuration = newEndTime - leftEdge;\r\n\r\n            return {\r\n              ...item,\r\n              duration: newDuration,\r\n            };\r\n          }\r\n\r\n          return item;\r\n        })\r\n      );\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      if (isResizing) {\r\n        handleResizeEnd();\r\n      }\r\n    };\r\n\r\n    if (isResizing) {\r\n      document.addEventListener(\"mousemove\", handleMouseMove);\r\n      document.addEventListener(\"mouseup\", handleMouseUp);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [\r\n    isResizing,\r\n    resizeItem,\r\n    resizeHandle,\r\n    originalItemData,\r\n    getPixelsPerSecond,\r\n    checkAutoScroll,\r\n    handleResizeEnd,\r\n    setTimelineItems,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopAutoScroll();\r\n    };\r\n  }, [stopAutoScroll]);\r\n\r\n  return (\r\n    <div\r\n      className={`h-80 bg-white rounded-2xl shadow-sm border-2 transition-all duration-200 overflow-hidden flex flex-col flex-shrink-0 ${\r\n        isDragging || isTimelineDragging || isResizing\r\n          ? \"border-blue-400 bg-blue-50/20\"\r\n          : \"border-gray-200\"\r\n      }`}\r\n    >\r\n      <div className=\"bg-gray-50 p-4 border-b border-gray-200 space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h4 className=\"text-gray-800 font-semibold flex items-center space-x-2\">\r\n            <Film size={18} />\r\n            <span>Timeline Pro</span>\r\n            {isDragging && dropPreview && (\r\n              <span className=\"text-green-600\">\r\n                - Adding \"{draggedItem?.name}\"{\" \"}\r\n                {dropPreview.shouldRipple ? \"⚡ ripple\" : \"📍 exact\"}\r\n              </span>\r\n            )}\r\n            {isTimelineDragging && dropPreview && (\r\n              <span className=\"text-blue-600\">\r\n                - Moving \"{draggedTimelineItem?.name}\"{\" \"}\r\n                {dropPreview.shouldRipple ? \"⚡ push blocks\" : \"📍 exact\"}\r\n              </span>\r\n            )}\r\n            {isResizing && resizeItem && (\r\n              <span className=\"text-orange-600\">\r\n                - Trimming \"{resizeItem.name}\" ({resizeHandle} edge)\r\n              </span>\r\n            )}\r\n            {copiedItem && (\r\n              <span className=\"text-blue-600 text-sm\">\r\n                - \"{copiedItem.name}\" copied (Ctrl+V to paste)\r\n              </span>\r\n            )}\r\n          </h4>\r\n\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Tooltip content=\"Keyboard shortcuts:\\n\\nPlayback:\\n• Spacebar: Play/Pause\\n• ←→: Frame by frame\\n• Shift+←→: By seconds\\n• Ctrl+←→: By 5 seconds\\n\\nEditing:\\n• Ctrl+C: Copy selected\\n• Ctrl+V: Paste at current time\\n• Ctrl+B: Split at current time\\n• Del/Backspace: Delete selected\\n\\nZoom & Navigation:\\n• +/-: Zoom in/out\\n• 0: Reset zoom\\n• Ctrl+Wheel: Zoom at mouse\\n\\nTimeline:\\n• Drag edges: Trim clips\\n• Drag center: Move with ripple\\n• Auto-scroll at edges\">\r\n              <button className=\"p-2 text-gray-500 hover:text-blue-600 transition-colors rounded-lg hover:bg-gray-100\">\r\n                <HelpCircle size={16} />\r\n              </button>\r\n            </Tooltip>\r\n            <div className=\"flex items-center space-x-2 bg-white rounded-xl p-2 border border-gray-200\">\r\n              <Tooltip content=\"Zoom out (-)\\nMakes timeline show more time\">\r\n                <button\r\n                  onClick={zoomOut}\r\n                  className=\"p-1 text-gray-600 hover:text-blue-600 transition-colors\"\r\n                >\r\n                  <ZoomOut size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <span className=\"text-xs text-gray-500 min-w-12 text-center\">\r\n                {(timelineZoom * 100).toFixed(0)}%\r\n              </span>\r\n              <Tooltip content=\"Zoom in (+)\\nOr Ctrl+Wheel over timeline\\nShows more detail\">\r\n                <button\r\n                  onClick={zoomIn}\r\n                  className=\"p-1 text-gray-600 hover:text-blue-600 transition-colors\"\r\n                >\r\n                  <ZoomIn size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Reset zoom (0)\\nReturns to default view\">\r\n                <button\r\n                  onClick={resetZoom}\r\n                  className=\"p-1 text-gray-600 hover:text-blue-600 transition-colors\"\r\n                >\r\n                  <RotateCcw size={16} />\r\n                </button>\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-6\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Tooltip content=\"Add overlay track\\nFor images and Picture-in-Picture videos\\nShows above main content\">\r\n                <button\r\n                  onClick={addOverlayTrack}\r\n                  className=\"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded-xl transition-all duration-200\"\r\n                >\r\n                  <Plus size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Add audio track\\nFor music, sound effects, and voiceovers\\nMixes with other audio\">\r\n                <button\r\n                  onClick={addAudioTrack}\r\n                  className=\"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-xl transition-all duration-200\"\r\n                >\r\n                  <Music size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Split selected item (Ctrl+B)\\nCuts clip at current playhead position\\nCreates two separate clips\">\r\n                <button\r\n                  onClick={splitTimelineItem}\r\n                  disabled={!selectedTimelineItem}\r\n                  className={`p-2 rounded-xl transition-all duration-200 ${\r\n                    selectedTimelineItem\r\n                      ? \"text-red-600 hover:text-red-800 hover:bg-red-50\"\r\n                      : \"text-gray-400 cursor-not-allowed\"\r\n                  }`}\r\n                >\r\n                  <Scissors size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Copy selected item (Ctrl+C)\\nCopies clip to clipboard\\nUse Ctrl+V to paste\">\r\n                <button\r\n                  onClick={copyTimelineItem}\r\n                  disabled={!selectedTimelineItem}\r\n                  className={`p-2 rounded-xl transition-all duration-200 ${\r\n                    selectedTimelineItem\r\n                      ? \"text-blue-600 hover:text-blue-800 hover:bg-blue-50\"\r\n                      : \"text-gray-400 cursor-not-allowed\"\r\n                  }`}\r\n                >\r\n                  <Copy size={16} />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Paste copied item (Ctrl+V)\\nPastes at current playhead position\\nUses ripple mode to push other clips\">\r\n                <button\r\n                  onClick={pasteTimelineItem}\r\n                  disabled={!copiedItem}\r\n                  className={`p-2 rounded-xl transition-all duration-200 ${\r\n                    copiedItem\r\n                      ? \"text-green-600 hover:text-green-800 hover:bg-green-50\"\r\n                      : \"text-gray-400 cursor-not-allowed\"\r\n                  }`}\r\n                >\r\n                  <Copy size={16} className=\"rotate-180\" />\r\n                </button>\r\n              </Tooltip>\r\n              <Tooltip content=\"Delete selected item (Del/Backspace)\\nRemoves clip from timeline\\nCannot be undone\">\r\n                <button\r\n                  onClick={deleteSelectedItem}\r\n                  disabled={!selectedTimelineItem}\r\n                  className={`p-2 rounded-xl transition-all duration-200 ${\r\n                    selectedTimelineItem\r\n                      ? \"text-red-600 hover:text-red-800 hover:bg-red-50\"\r\n                      : \"text-gray-400 cursor-not-allowed\"\r\n                  }`}\r\n                >\r\n                  <Trash2 size={16} />\r\n                </button>\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 flex min-h-0\">\r\n        <div className=\"w-48 bg-gray-50 border-r border-gray-200 flex-shrink-0 flex flex-col\">\r\n          <div className=\"h-12 border-b border-gray-200 flex-shrink-0\"></div>\r\n\r\n          <div\r\n            ref={trackLabelsRef}\r\n            className=\"flex-1 overflow-y-auto overflow-x-hidden\"\r\n            onScroll={handleTrackLabelsScroll}\r\n          >\r\n            {tracks.overlays.map((track) => (\r\n              <Tooltip key={track.id} content=\"Overlay Track\\nFor images and picture-in-picture videos\\nShows above main content\">\r\n                <div\r\n                  className=\"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-purple-700 bg-purple-50 flex-shrink-0\"\r\n                  style={{ height: \"60px\" }}\r\n                >\r\n                  <Layers size={16} className=\"mr-2\" />\r\n                  {track.name}\r\n                </div>\r\n              </Tooltip>\r\n            ))}\r\n\r\n            {tracks.main.map((track) => (\r\n              <Tooltip key={track.id} content=\"Main Video Track\\nPrimary video content\\nBackground layer\">\r\n                <div\r\n                  className=\"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-blue-700 bg-blue-50 flex-shrink-0\"\r\n                  style={{ height: \"60px\" }}\r\n                >\r\n                  <Video size={16} className=\"mr-2\" />\r\n                  {track.name}\r\n                </div>\r\n              </Tooltip>\r\n            ))}\r\n\r\n            {tracks.audio.map((track) => (\r\n              <Tooltip key={track.id} content=\"Audio Track\\nFor music, sound effects, voiceovers\\nMixes with other audio tracks\">\r\n                <div\r\n                  className=\"h-15 flex items-center px-4 border-b border-gray-100 text-sm font-medium text-green-700 bg-green-50 flex-shrink-0\"\r\n                  style={{ height: \"60px\" }}\r\n                >\r\n                  <Music size={16} className=\"mr-2\" />\r\n                  {track.name}\r\n                </div>\r\n              </Tooltip>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          ref={(el) => {\r\n            timelineRef.current = el;\r\n            timelineScrollRef.current = el;\r\n          }}\r\n          className=\"flex-1 relative overflow-auto bg-white\"\r\n          onScroll={handleTrackAreaScroll}\r\n          onDragOver={handleDragOver}\r\n          onDrop={handleDrop}\r\n          onDragLeave={handleDragLeave}\r\n          style={{\r\n            overflowX: \"auto\",\r\n            overflowY: \"auto\",\r\n            scrollbarWidth: \"thin\",\r\n          }}\r\n        >\r\n          <Tooltip content=\"Timeline ruler\\nClick anywhere to seek to that time\\nShows timestamps and current playhead position\">\r\n            <div\r\n              style={{\r\n                width: `${getTimelineWidth()}px`,\r\n                minHeight: \"100%\",\r\n                position: \"relative\",\r\n              }}\r\n              onClick={handleTimelineClick}\r\n            >\r\n              <div className=\"h-12 bg-gray-50 border-b border-gray-200 relative flex-shrink-0\">\r\n                {Array.from(\r\n                  { length: Math.ceil((videoDuration * timelineZoom) / 5) + 1 },\r\n                  (_, i) => {\r\n                    const timeValue = (i * 5) / timelineZoom;\r\n                    const pixelsPerSecond = getPixelsPerSecond();\r\n                    return (\r\n                      <div\r\n                        key={i}\r\n                        className=\"absolute top-0 h-full border-l border-gray-300\"\r\n                        style={{ left: `${timeValue * pixelsPerSecond}px` }}\r\n                      >\r\n                        <span className=\"text-xs text-gray-600 ml-2 mt-2 inline-block font-medium\">\r\n                          {formatTime(timeValue)}\r\n                        </span>\r\n                      </div>\r\n                    );\r\n                  }\r\n                )}\r\n\r\n                {timelineZoom > 2 &&\r\n                  Array.from(\r\n                    { length: Math.ceil(videoDuration * timelineZoom) + 1 },\r\n                    (_, i) => {\r\n                      const timeValue = i / timelineZoom;\r\n                      const pixelsPerSecond = getPixelsPerSecond();\r\n                      return (\r\n                        <div\r\n                          key={`sub-${i}`}\r\n                          className=\"absolute top-8 w-0 h-4 border-l border-gray-200\"\r\n                          style={{ left: `${timeValue * pixelsPerSecond}px` }}\r\n                        />\r\n                      );\r\n                    }\r\n                  )}\r\n\r\n                <div\r\n                  className=\"absolute top-0 w-0.5 h-full bg-red-500 z-20 shadow-sm\"\r\n                  style={{\r\n                    left: `${currentTime * getPixelsPerSecond()}px`,\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div\r\n                className=\"relative flex-1\"\r\n                style={{\r\n                  height: `${\r\n                    (tracks.overlays.length +\r\n                      tracks.main.length +\r\n                      tracks.audio.length) *\r\n                    60\r\n                  }px`,\r\n                  minHeight: \"100%\",\r\n                }}\r\n              >\r\n                {timelineItems.map((item) => (\r\n                  <div\r\n                    key={item.id}\r\n                    className={`absolute h-10 rounded-lg border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md group ${getTrackColor(\r\n                      item.trackType\r\n                    )} ${\r\n                      selectedTimelineItem?.id === item.id\r\n                        ? \"ring-2 ring-blue-300\"\r\n                        : \"\"\r\n                    } ${\r\n                      draggedTimelineItem?.id === item.id ? \"opacity-50 z-30\" : \"\"\r\n                    } ${\r\n                      copiedItem?.id === item.id\r\n                        ? \"ring-2 ring-green-300 ring-dashed\"\r\n                        : \"\"\r\n                    }`}\r\n                    style={getTimelineItemStyle(item)}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setSelectedTimelineItem(item);\r\n                    }}\r\n                  >\r\n                    <Tooltip content=\"Trim start\\nDrag left edge to adjust start time\\nShortens clip from beginning\">\r\n                      <div\r\n                        className=\"absolute left-0 top-0 w-3 h-full cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/50 rounded-l-lg z-10 flex items-center justify-center\"\r\n                        onMouseDown={(e) => handleResizeStart(e, item, \"left\")}\r\n                        style={{\r\n                          background:\r\n                            \"linear-gradient(to right, rgba(255,255,255,0.8), transparent)\",\r\n                        }}\r\n                      >\r\n                        <div className=\"w-0.5 h-6 bg-white rounded-full opacity-80\"></div>\r\n                      </div>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip content={`${item.name}\\n\\nActions:\\n• Click to select\\n• Drag center to move\\n• Ripple mode: pushes other clips\\n• Auto-scroll at timeline edges`}>\r\n                      <div\r\n                        draggable=\"true\"\r\n                        onDragStart={(e) => handleTimelineItemDragStart(e, item)}\r\n                        onDragEnd={handleTimelineItemDragEnd}\r\n                        className=\"p-2 text-white text-xs truncate font-medium flex items-center h-full mx-3 cursor-grab active:cursor-grabbing\"\r\n                      >\r\n                        {item.name}\r\n                        {copiedItem?.id === item.id && (\r\n                          <span className=\"ml-2 text-green-200\">📋</span>\r\n                        )}\r\n                      </div>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip content=\"Trim end\\nDrag right edge to adjust duration\\nShortens clip from end\">\r\n                      <div\r\n                        className=\"absolute right-0 top-0 w-3 h-full cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/50 rounded-r-lg z-10 flex items-center justify-center\"\r\n                        onMouseDown={(e) => handleResizeStart(e, item, \"right\")}\r\n                        style={{\r\n                          background:\r\n                            \"linear-gradient(to left, rgba(255,255,255,0.8), transparent)\",\r\n                        }}\r\n                      >\r\n                        <div className=\"w-0.5 h-6 bg-white rounded-full opacity-80\"></div>\r\n                      </div>\r\n                    </Tooltip>\r\n                  </div>\r\n                ))}\r\n\r\n                {dropPreview && (\r\n                  <Tooltip content={`Drop preview\\n${dropPreview.shouldRipple ? '⚡ Ripple mode: Will push other clips' : '📍 Exact placement: Fits in gap'}`}>\r\n                    <div\r\n                      className={`absolute h-10 rounded-lg border-2 transition-all ${\r\n                        dropPreview.isValid\r\n                          ? dropPreview.shouldRipple\r\n                            ? `${getTrackColor(\r\n                                dropPreview.trackType\r\n                              )} bg-opacity-40 border-dashed animate-pulse`\r\n                            : `${getTrackColor(\r\n                                dropPreview.trackType\r\n                              )} bg-opacity-60 border-solid`\r\n                          : \"bg-red-300 border-red-500 border-dashed\"\r\n                      }`}\r\n                      style={getDropPreviewStyle()}\r\n                    >\r\n                      {dropPreview.isValid && dropPreview.shouldRipple && (\r\n                        <div className=\"flex items-center justify-center h-full text-white text-xs font-bold\">\r\n                          ⚡\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </Tooltip>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}