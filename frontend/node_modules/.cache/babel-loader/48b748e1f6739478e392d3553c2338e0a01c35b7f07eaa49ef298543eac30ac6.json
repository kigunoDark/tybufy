{"ast":null,"code":"var _jsxFileName = \"C:\\\\Scriptify\\\\ai-content-studio\\\\frontend\\\\src\\\\components\\\\Timeline.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useCallback, useEffect } from \"react\";\nimport { VideoPlayer } from \"./VideoPlayer\";\nimport { Timeline } from \"./Timeline\";\nimport { MediaLibrary } from \"./MediaLibrary\"; // Предполагаем, что у вас есть MediaLibrary\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const VideoEditor = () => {\n  _s();\n  // Состояние таймлайна\n  const [timelineItems, setTimelineItems] = useState([]);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [videoDuration, setVideoDuration] = useState(60); // По умолчанию 60 секунд\n  const [selectedTimelineItem, setSelectedTimelineItem] = useState(null);\n  const [timelineZoom, setTimelineZoom] = useState(1);\n  const [copiedItem, setCopiedItem] = useState(null);\n\n  // Состояние воспроизведения\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  // Состояние перетаскивания\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [draggedTimelineItem, setDraggedTimelineItem] = useState(null);\n  const [dropPreview, setDropPreview] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isTimelineDragging, setIsTimelineDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n\n  // Дорожки\n  const [tracks, setTracks] = useState({\n    overlays: [{\n      id: 'overlay-1',\n      name: 'Overlay 1',\n      type: 'overlay'\n    }],\n    main: [{\n      id: 'main-1',\n      name: 'Main Video',\n      type: 'main'\n    }],\n    audio: [{\n      id: 'audio-1',\n      name: 'Audio 1',\n      type: 'audio'\n    }]\n  });\n\n  // Ссылка на функцию умного добавления из Timeline\n  const smartAddToTimelineRef = useRef(null);\n\n  // Форматирование времени\n  const formatTime = useCallback(seconds => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor(seconds % 3600 / 60);\n    const secs = Math.floor(seconds % 60);\n    const ms = Math.floor(seconds % 1 * 100);\n    if (hrs > 0) {\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}.${ms.toString().padStart(2, '0')}`;\n    }\n    return `${mins}:${secs.toString().padStart(2, '0')}.${ms.toString().padStart(2, '0')}`;\n  }, []);\n\n  // Функция перехода к времени\n  const seekTo = useCallback(time => {\n    setCurrentTime(Math.max(0, Math.min(time, videoDuration)));\n    setIsPlaying(false); // Останавливаем воспроизведение при перемотке\n  }, [videoDuration]);\n\n  // Функции для работы с элементами таймлайна\n  const addToTimeline = useCallback((item, startTime, trackId) => {\n    var _tracks$overlays$conc;\n    console.log(`Добавляем \"${item.name}\" на дорожку ${trackId} в позицию ${formatTime(startTime)}`);\n    const newTimelineItem = {\n      id: `timeline-${Date.now()}-${Math.random()}`,\n      name: item.name,\n      type: item.type,\n      startTime: startTime,\n      duration: item.duration || (item.type === 'image' ? 5 : 10),\n      trackId: trackId,\n      trackType: ((_tracks$overlays$conc = tracks.overlays.concat(tracks.main, tracks.audio).find(t => t.id === trackId)) === null || _tracks$overlays$conc === void 0 ? void 0 : _tracks$overlays$conc.type) || 'main',\n      url: item.url || item.src,\n      thumbnail: item.thumbnail\n    };\n    setTimelineItems(prev => [...prev, newTimelineItem]);\n\n    // Обновляем продолжительность видео если нужно\n    const newEndTime = startTime + newTimelineItem.duration;\n    if (newEndTime > videoDuration) {\n      setVideoDuration(newEndTime + 10);\n    }\n  }, [videoDuration, formatTime, tracks]);\n  const removeFromTimeline = useCallback(itemId => {\n    setTimelineItems(prev => prev.filter(item => item.id !== itemId));\n    if ((selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === itemId) {\n      setSelectedTimelineItem(null);\n    }\n  }, [selectedTimelineItem]);\n  const splitTimelineItem = useCallback(() => {\n    if (!selectedTimelineItem) return;\n    const item = selectedTimelineItem;\n    const splitTime = currentTime - item.startTime;\n    if (splitTime <= 0 || splitTime >= item.duration) return;\n    const firstPart = {\n      ...item,\n      id: `timeline-${Date.now()}-1`,\n      duration: splitTime\n    };\n    const secondPart = {\n      ...item,\n      id: `timeline-${Date.now()}-2`,\n      startTime: item.startTime + splitTime,\n      duration: item.duration - splitTime\n    };\n    setTimelineItems(prev => prev.filter(i => i.id !== item.id).concat([firstPart, secondPart]));\n    setSelectedTimelineItem(firstPart);\n  }, [selectedTimelineItem, currentTime]);\n  const copyTimelineItem = useCallback(() => {\n    if (selectedTimelineItem) {\n      setCopiedItem(selectedTimelineItem);\n    }\n  }, [selectedTimelineItem]);\n  const pasteTimelineItem = useCallback(() => {\n    if (!copiedItem) return;\n    const newItem = {\n      ...copiedItem,\n      id: `timeline-${Date.now()}-paste`,\n      startTime: currentTime\n    };\n    setTimelineItems(prev => [...prev, newItem]);\n    setSelectedTimelineItem(newItem);\n\n    // Обновляем продолжительность видео если нужно\n    const newEndTime = currentTime + newItem.duration;\n    if (newEndTime > videoDuration) {\n      setVideoDuration(newEndTime + 10);\n    }\n  }, [copiedItem, currentTime, videoDuration]);\n  const deleteSelectedItem = useCallback(() => {\n    if (selectedTimelineItem) {\n      removeFromTimeline(selectedTimelineItem.id);\n    }\n  }, [selectedTimelineItem, removeFromTimeline]);\n\n  // Функции для Ripple эффекта\n  const insertWithRipple = useCallback((trackId, insertTime, duration, excludeItemId = null) => {\n    const itemsOnTrack = timelineItems.filter(item => item.trackId === trackId && item.id !== excludeItemId).sort((a, b) => a.startTime - b.startTime);\n    const insertEndTime = insertTime + duration;\n    const affectedItems = itemsOnTrack.filter(item => {\n      const itemStart = item.startTime;\n      const itemEnd = item.startTime + item.duration;\n      return !(insertEndTime <= itemStart || insertTime >= itemEnd);\n    });\n    return {\n      time: insertTime,\n      shouldRipple: affectedItems.length > 0,\n      affectedItems: affectedItems\n    };\n  }, [timelineItems]);\n  const applyRippleEffect = useCallback((affectedItems, pushDuration) => {\n    const itemIds = affectedItems.map(item => item.id);\n    setTimelineItems(prev => prev.map(item => {\n      if (itemIds.includes(item.id)) {\n        return {\n          ...item,\n          startTime: item.startTime + pushDuration\n        };\n      }\n      return item;\n    }));\n  }, []);\n\n  // Горячие клавиши\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Игнорируем если фокус на input элементе\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n      if (e.ctrlKey || e.metaKey) {\n        switch (e.key.toLowerCase()) {\n          case 'c':\n            e.preventDefault();\n            copyTimelineItem();\n            break;\n          case 'v':\n            e.preventDefault();\n            pasteTimelineItem();\n            break;\n          case 'b':\n            e.preventDefault();\n            splitTimelineItem();\n            break;\n        }\n      } else {\n        switch (e.key) {\n          case ' ':\n            e.preventDefault();\n            setIsPlaying(prev => !prev);\n            break;\n          case 'Delete':\n          case 'Backspace':\n            e.preventDefault();\n            deleteSelectedItem();\n            break;\n          case '+':\n          case '=':\n            e.preventDefault();\n            setTimelineZoom(prev => Math.min(20, prev * 1.2));\n            break;\n          case '-':\n            e.preventDefault();\n            setTimelineZoom(prev => Math.max(0.1, prev / 1.2));\n            break;\n          case '0':\n            e.preventDefault();\n            setTimelineZoom(1);\n            break;\n          case 'ArrowLeft':\n            e.preventDefault();\n            seekTo(Math.max(0, currentTime - (e.shiftKey ? 10 : 1)));\n            break;\n          case 'ArrowRight':\n            e.preventDefault();\n            seekTo(Math.min(videoDuration, currentTime + (e.shiftKey ? 10 : 1)));\n            break;\n          case 'Home':\n            e.preventDefault();\n            seekTo(0);\n            break;\n          case 'End':\n            e.preventDefault();\n            seekTo(videoDuration);\n            break;\n        }\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [copyTimelineItem, pasteTimelineItem, splitTimelineItem, deleteSelectedItem, currentTime, videoDuration, seekTo, setIsPlaying, setTimelineZoom]);\n\n  // Функция для MediaLibrary - добавление элемента на таймлайн\n  const handleAddToTimeline = useCallback(item => {\n    if (smartAddToTimelineRef.current) {\n      smartAddToTimelineRef.current(item);\n    } else {\n      var _tracks$main$, _tracks$audio$, _tracks$overlays$;\n      // Fallback - используем обычную логику\n      const targetTrackId = item.type === 'video' ? (_tracks$main$ = tracks.main[0]) === null || _tracks$main$ === void 0 ? void 0 : _tracks$main$.id : item.type === 'audio' || item.type === 'music' ? (_tracks$audio$ = tracks.audio[0]) === null || _tracks$audio$ === void 0 ? void 0 : _tracks$audio$.id : (_tracks$overlays$ = tracks.overlays[0]) === null || _tracks$overlays$ === void 0 ? void 0 : _tracks$overlays$.id;\n      if (targetTrackId) {\n        addToTimeline(item, currentTime, targetTrackId);\n      }\n    }\n  }, [addToTimeline, currentTime, tracks]);\n\n  // Обработчик для получения функции умного добавления из Timeline\n  const handleSmartAddToTimeline = useCallback(smartAddFunction => {\n    smartAddToTimelineRef.current = smartAddFunction;\n  }, []);\n\n  // Пример медиа элементов (в реальном приложении они будут приходить из MediaLibrary)\n  const sampleMediaItems = [{\n    id: 'video-1',\n    name: 'Пример видео',\n    type: 'video',\n    duration: 30,\n    url: '/path/to/video.mp4',\n    thumbnail: '/path/to/thumbnail.jpg'\n  }, {\n    id: 'audio-1',\n    name: 'Фоновая музыка',\n    type: 'audio',\n    duration: 60,\n    url: '/path/to/audio.mp3'\n  }, {\n    id: 'image-1',\n    name: 'Логотип',\n    type: 'image',\n    duration: 5,\n    url: '/path/to/image.png'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"\\u0412\\u0438\\u0434\\u0435\\u043E\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u043E\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0441\\u043A\\u0438\\u0432\\u0430\\u0439\\u0442\\u0435 \\u043C\\u0435\\u0434\\u0438\\u0430-\\u0444\\u0430\\u0439\\u043B\\u044B \\u043D\\u0430 \\u0442\\u0430\\u0439\\u043C\\u043B\\u0430\\u0439\\u043D \\u0438 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0432\\u0430\\u0439\\u0442\\u0435 \\u0432\\u0438\\u0434\\u0435\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 xl:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"xl:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(VideoPlayer, {\n            timelineItems: timelineItems,\n            currentTime: currentTime,\n            videoDuration: videoDuration,\n            isPlaying: isPlaying,\n            setIsPlaying: setIsPlaying,\n            setCurrentTime: setCurrentTime,\n            formatTime: formatTime,\n            seekTo: seekTo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-sm border-2 border-gray-200 p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-4\",\n            children: \"\\u041C\\u0435\\u0434\\u0438\\u0430\\u0442\\u0435\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: sampleMediaItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 border-2 border-dashed border-gray-300 rounded-lg cursor-grab hover:border-blue-400 hover:bg-blue-50 transition-all\",\n              draggable: \"true\",\n              onDragStart: e => {\n                setDraggedItem(item);\n                setIsDragging(true);\n                e.dataTransfer.effectAllowed = 'copy';\n              },\n              onDragEnd: () => {\n                setDraggedItem(null);\n                setIsDragging(false);\n              },\n              onClick: () => handleAddToTimeline(item),\n              title: \"\\u041F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u043D\\u0430 \\u0442\\u0430\\u0439\\u043C\\u043B\\u0430\\u0439\\u043D \\u0438\\u043B\\u0438 \\u043A\\u043B\\u0438\\u043A\\u043D\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-3 h-3 rounded-full ${item.type === 'video' ? 'bg-blue-500' : item.type === 'audio' || item.type === 'music' ? 'bg-green-500' : 'bg-purple-500'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-800\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [item.type, \" \\u2022 \", formatTime(item.duration)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-3 bg-blue-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-blue-700\",\n              children: [\"\\uD83D\\uDCA1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u043E\\u0432\\u0435\\u0442:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 20\n              }, this), \" \\u042D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B \\u0430\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438 \\u0440\\u0430\\u0437\\u043C\\u0435\\u0449\\u0430\\u044E\\u0442\\u0441\\u044F \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u043E\\u0440\\u043E\\u0436\\u043A\\u0430\\u0445:\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-xs text-blue-600 mt-1 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\u0412\\u0438\\u0434\\u0435\\u043E \\u2192 Main Video \\u0434\\u043E\\u0440\\u043E\\u0436\\u043A\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\u0410\\u0443\\u0434\\u0438\\u043E \\u2192 Audio \\u0434\\u043E\\u0440\\u043E\\u0436\\u043A\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 \\u0418\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u2192 Overlay \\u0434\\u043E\\u0440\\u043E\\u0436\\u043A\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Timeline, {\n        timelineItems: timelineItems,\n        setTimelineItems: setTimelineItems,\n        currentTime: currentTime,\n        videoDuration: videoDuration,\n        setVideoDuration: setVideoDuration,\n        selectedTimelineItem: selectedTimelineItem,\n        setSelectedTimelineItem: setSelectedTimelineItem,\n        timelineZoom: timelineZoom,\n        setTimelineZoom: setTimelineZoom,\n        tracks: tracks,\n        setTracks: setTracks,\n        draggedItem: draggedItem,\n        draggedTimelineItem: draggedTimelineItem,\n        setDraggedTimelineItem: setDraggedTimelineItem,\n        dropPreview: dropPreview,\n        setDropPreview: setDropPreview,\n        isDragging: isDragging,\n        isTimelineDragging: isTimelineDragging,\n        setIsTimelineDragging: setIsTimelineDragging,\n        isResizing: isResizing,\n        setIsResizing: setIsResizing,\n        copiedItem: copiedItem,\n        formatTime: formatTime,\n        seekTo: seekTo,\n        splitTimelineItem: splitTimelineItem,\n        copyTimelineItem: copyTimelineItem,\n        pasteTimelineItem: pasteTimelineItem,\n        deleteSelectedItem: deleteSelectedItem,\n        addToTimeline: addToTimeline,\n        insertWithRipple: insertWithRipple,\n        applyRippleEffect: applyRippleEffect,\n        removeFromTimeline: removeFromTimeline,\n        onSmartAddToTimeline: handleSmartAddToTimeline\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-sm border-2 border-gray-200 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-6 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3 h-3 rounded-full ${isPlaying ? 'bg-green-500 animate-pulse' : 'bg-gray-400'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isPlaying ? 'Воспроизведение' : 'Пауза'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u0412\\u0440\\u0435\\u043C\\u044F: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-mono\",\n              children: formatTime(currentTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u042D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432 \\u043D\\u0430 \\u0442\\u0430\\u0439\\u043C\\u043B\\u0430\\u0439\\u043D\\u0435: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: timelineItems.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-mono\",\n              children: formatTime(videoDuration)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), selectedTimelineItem && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: selectedTimelineItem.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), copiedItem && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-blue-600\",\n            children: [\"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: copiedItem.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"details\", {\n          className: \"cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            className: \"font-semibold text-gray-800 mb-2\",\n            children: \"\\u0413\\u043E\\u0440\\u044F\\u0447\\u0438\\u0435 \\u043A\\u043B\\u0430\\u0432\\u0438\\u0448\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0412\\u043E\\u0441\\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u0435:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u041F\\u0440\\u043E\\u0431\\u0435\\u043B - \\u0418\\u0433\\u0440\\u0430\\u0442\\u044C/\\u041F\\u0430\\u0443\\u0437\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"\\u2190 \\u2192 - \\u041D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E \\u043A\\u0430\\u0434\\u0440\\u0430\\u043C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Shift + \\u2190 \\u2192 - \\u041D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E 10 \\u0441\\u0435\\u043A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Home/End - \\u0412 \\u043D\\u0430\\u0447\\u0430\\u043B\\u043E/\\u043A\\u043E\\u043D\\u0435\\u0446\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ctrl + C - \\u041A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ctrl + V - \\u0412\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ctrl + B - \\u0420\\u0430\\u0437\\u0440\\u0435\\u0437\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Del/Backspace - \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u041D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"+ - \\u041F\\u0440\\u0438\\u0431\\u043B\\u0438\\u0437\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"- - \\u041E\\u0442\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"0 - \\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043C\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Ctrl + \\u041A\\u043E\\u043B\\u0435\\u0441\\u043E - \\u0417\\u0443\\u043C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoEditor, \"3jK7vmZYE/svia0oqq88CYgtigI=\");\n_c = VideoEditor;\nvar _c;\n$RefreshReg$(_c, \"VideoEditor\");","map":{"version":3,"names":["useState","useRef","useCallback","useEffect","VideoPlayer","Timeline","MediaLibrary","jsxDEV","_jsxDEV","VideoEditor","_s","timelineItems","setTimelineItems","currentTime","setCurrentTime","videoDuration","setVideoDuration","selectedTimelineItem","setSelectedTimelineItem","timelineZoom","setTimelineZoom","copiedItem","setCopiedItem","isPlaying","setIsPlaying","draggedItem","setDraggedItem","draggedTimelineItem","setDraggedTimelineItem","dropPreview","setDropPreview","isDragging","setIsDragging","isTimelineDragging","setIsTimelineDragging","isResizing","setIsResizing","tracks","setTracks","overlays","id","name","type","main","audio","smartAddToTimelineRef","formatTime","seconds","hrs","Math","floor","mins","secs","ms","toString","padStart","seekTo","time","max","min","addToTimeline","item","startTime","trackId","_tracks$overlays$conc","console","log","newTimelineItem","Date","now","random","duration","trackType","concat","find","t","url","src","thumbnail","prev","newEndTime","removeFromTimeline","itemId","filter","splitTimelineItem","splitTime","firstPart","secondPart","i","copyTimelineItem","pasteTimelineItem","newItem","deleteSelectedItem","insertWithRipple","insertTime","excludeItemId","itemsOnTrack","sort","a","b","insertEndTime","affectedItems","itemStart","itemEnd","shouldRipple","length","applyRippleEffect","pushDuration","itemIds","map","includes","handleKeyDown","e","target","tagName","ctrlKey","metaKey","key","toLowerCase","preventDefault","shiftKey","document","addEventListener","removeEventListener","handleAddToTimeline","current","_tracks$main$","_tracks$audio$","_tracks$overlays$","targetTrackId","handleSmartAddToTimeline","smartAddFunction","sampleMediaItems","className","children","fileName","_jsxFileName","lineNumber","columnNumber","draggable","onDragStart","dataTransfer","effectAllowed","onDragEnd","onClick","title","onSmartAddToTimeline","_c","$RefreshReg$"],"sources":["C:/Scriptify/ai-content-studio/frontend/src/components/Timeline.jsx"],"sourcesContent":["import { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport { VideoPlayer } from \"./VideoPlayer\";\r\nimport { Timeline } from \"./Timeline\";\r\nimport { MediaLibrary } from \"./MediaLibrary\"; // Предполагаем, что у вас есть MediaLibrary\r\n\r\nexport const VideoEditor = () => {\r\n  // Состояние таймлайна\r\n  const [timelineItems, setTimelineItems] = useState([]);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [videoDuration, setVideoDuration] = useState(60); // По умолчанию 60 секунд\r\n  const [selectedTimelineItem, setSelectedTimelineItem] = useState(null);\r\n  const [timelineZoom, setTimelineZoom] = useState(1);\r\n  const [copiedItem, setCopiedItem] = useState(null);\r\n\r\n  // Состояние воспроизведения\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  // Состояние перетаскивания\r\n  const [draggedItem, setDraggedItem] = useState(null);\r\n  const [draggedTimelineItem, setDraggedTimelineItem] = useState(null);\r\n  const [dropPreview, setDropPreview] = useState(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isTimelineDragging, setIsTimelineDragging] = useState(false);\r\n  const [isResizing, setIsResizing] = useState(false);\r\n\r\n  // Дорожки\r\n  const [tracks, setTracks] = useState({\r\n    overlays: [\r\n      { id: 'overlay-1', name: 'Overlay 1', type: 'overlay' },\r\n    ],\r\n    main: [\r\n      { id: 'main-1', name: 'Main Video', type: 'main' },\r\n    ],\r\n    audio: [\r\n      { id: 'audio-1', name: 'Audio 1', type: 'audio' },\r\n    ],\r\n  });\r\n\r\n  // Ссылка на функцию умного добавления из Timeline\r\n  const smartAddToTimelineRef = useRef(null);\r\n\r\n  // Форматирование времени\r\n  const formatTime = useCallback((seconds) => {\r\n    const hrs = Math.floor(seconds / 3600);\r\n    const mins = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    const ms = Math.floor((seconds % 1) * 100);\r\n    \r\n    if (hrs > 0) {\r\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}.${ms.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${mins}:${secs.toString().padStart(2, '0')}.${ms.toString().padStart(2, '0')}`;\r\n  }, []);\r\n\r\n  // Функция перехода к времени\r\n  const seekTo = useCallback((time) => {\r\n    setCurrentTime(Math.max(0, Math.min(time, videoDuration)));\r\n    setIsPlaying(false); // Останавливаем воспроизведение при перемотке\r\n  }, [videoDuration]);\r\n\r\n  // Функции для работы с элементами таймлайна\r\n  const addToTimeline = useCallback((item, startTime, trackId) => {\r\n    console.log(`Добавляем \"${item.name}\" на дорожку ${trackId} в позицию ${formatTime(startTime)}`);\r\n    \r\n    const newTimelineItem = {\r\n      id: `timeline-${Date.now()}-${Math.random()}`,\r\n      name: item.name,\r\n      type: item.type,\r\n      startTime: startTime,\r\n      duration: item.duration || (item.type === 'image' ? 5 : 10),\r\n      trackId: trackId,\r\n      trackType: tracks.overlays.concat(tracks.main, tracks.audio).find(t => t.id === trackId)?.type || 'main',\r\n      url: item.url || item.src,\r\n      thumbnail: item.thumbnail,\r\n    };\r\n\r\n    setTimelineItems(prev => [...prev, newTimelineItem]);\r\n    \r\n    // Обновляем продолжительность видео если нужно\r\n    const newEndTime = startTime + newTimelineItem.duration;\r\n    if (newEndTime > videoDuration) {\r\n      setVideoDuration(newEndTime + 10);\r\n    }\r\n  }, [videoDuration, formatTime, tracks]);\r\n\r\n  const removeFromTimeline = useCallback((itemId) => {\r\n    setTimelineItems(prev => prev.filter(item => item.id !== itemId));\r\n    if (selectedTimelineItem?.id === itemId) {\r\n      setSelectedTimelineItem(null);\r\n    }\r\n  }, [selectedTimelineItem]);\r\n\r\n  const splitTimelineItem = useCallback(() => {\r\n    if (!selectedTimelineItem) return;\r\n\r\n    const item = selectedTimelineItem;\r\n    const splitTime = currentTime - item.startTime;\r\n\r\n    if (splitTime <= 0 || splitTime >= item.duration) return;\r\n\r\n    const firstPart = {\r\n      ...item,\r\n      id: `timeline-${Date.now()}-1`,\r\n      duration: splitTime,\r\n    };\r\n\r\n    const secondPart = {\r\n      ...item,\r\n      id: `timeline-${Date.now()}-2`,\r\n      startTime: item.startTime + splitTime,\r\n      duration: item.duration - splitTime,\r\n    };\r\n\r\n    setTimelineItems(prev => \r\n      prev.filter(i => i.id !== item.id).concat([firstPart, secondPart])\r\n    );\r\n    \r\n    setSelectedTimelineItem(firstPart);\r\n  }, [selectedTimelineItem, currentTime]);\r\n\r\n  const copyTimelineItem = useCallback(() => {\r\n    if (selectedTimelineItem) {\r\n      setCopiedItem(selectedTimelineItem);\r\n    }\r\n  }, [selectedTimelineItem]);\r\n\r\n  const pasteTimelineItem = useCallback(() => {\r\n    if (!copiedItem) return;\r\n\r\n    const newItem = {\r\n      ...copiedItem,\r\n      id: `timeline-${Date.now()}-paste`,\r\n      startTime: currentTime,\r\n    };\r\n\r\n    setTimelineItems(prev => [...prev, newItem]);\r\n    setSelectedTimelineItem(newItem);\r\n\r\n    // Обновляем продолжительность видео если нужно\r\n    const newEndTime = currentTime + newItem.duration;\r\n    if (newEndTime > videoDuration) {\r\n      setVideoDuration(newEndTime + 10);\r\n    }\r\n  }, [copiedItem, currentTime, videoDuration]);\r\n\r\n  const deleteSelectedItem = useCallback(() => {\r\n    if (selectedTimelineItem) {\r\n      removeFromTimeline(selectedTimelineItem.id);\r\n    }\r\n  }, [selectedTimelineItem, removeFromTimeline]);\r\n\r\n  // Функции для Ripple эффекта\r\n  const insertWithRipple = useCallback((trackId, insertTime, duration, excludeItemId = null) => {\r\n    const itemsOnTrack = timelineItems\r\n      .filter(item => item.trackId === trackId && item.id !== excludeItemId)\r\n      .sort((a, b) => a.startTime - b.startTime);\r\n\r\n    const insertEndTime = insertTime + duration;\r\n    const affectedItems = itemsOnTrack.filter(item => {\r\n      const itemStart = item.startTime;\r\n      const itemEnd = item.startTime + item.duration;\r\n      return !(insertEndTime <= itemStart || insertTime >= itemEnd);\r\n    });\r\n\r\n    return {\r\n      time: insertTime,\r\n      shouldRipple: affectedItems.length > 0,\r\n      affectedItems: affectedItems,\r\n    };\r\n  }, [timelineItems]);\r\n\r\n  const applyRippleEffect = useCallback((affectedItems, pushDuration) => {\r\n    const itemIds = affectedItems.map(item => item.id);\r\n    \r\n    setTimelineItems(prev => \r\n      prev.map(item => {\r\n        if (itemIds.includes(item.id)) {\r\n          return {\r\n            ...item,\r\n            startTime: item.startTime + pushDuration,\r\n          };\r\n        }\r\n        return item;\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  // Горячие клавиши\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Игнорируем если фокус на input элементе\r\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\r\n\r\n      if (e.ctrlKey || e.metaKey) {\r\n        switch (e.key.toLowerCase()) {\r\n          case 'c':\r\n            e.preventDefault();\r\n            copyTimelineItem();\r\n            break;\r\n          case 'v':\r\n            e.preventDefault();\r\n            pasteTimelineItem();\r\n            break;\r\n          case 'b':\r\n            e.preventDefault();\r\n            splitTimelineItem();\r\n            break;\r\n        }\r\n      } else {\r\n        switch (e.key) {\r\n          case ' ':\r\n            e.preventDefault();\r\n            setIsPlaying(prev => !prev);\r\n            break;\r\n          case 'Delete':\r\n          case 'Backspace':\r\n            e.preventDefault();\r\n            deleteSelectedItem();\r\n            break;\r\n          case '+':\r\n          case '=':\r\n            e.preventDefault();\r\n            setTimelineZoom(prev => Math.min(20, prev * 1.2));\r\n            break;\r\n          case '-':\r\n            e.preventDefault();\r\n            setTimelineZoom(prev => Math.max(0.1, prev / 1.2));\r\n            break;\r\n          case '0':\r\n            e.preventDefault();\r\n            setTimelineZoom(1);\r\n            break;\r\n          case 'ArrowLeft':\r\n            e.preventDefault();\r\n            seekTo(Math.max(0, currentTime - (e.shiftKey ? 10 : 1)));\r\n            break;\r\n          case 'ArrowRight':\r\n            e.preventDefault();\r\n            seekTo(Math.min(videoDuration, currentTime + (e.shiftKey ? 10 : 1)));\r\n            break;\r\n          case 'Home':\r\n            e.preventDefault();\r\n            seekTo(0);\r\n            break;\r\n          case 'End':\r\n            e.preventDefault();\r\n            seekTo(videoDuration);\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [\r\n    copyTimelineItem,\r\n    pasteTimelineItem,\r\n    splitTimelineItem,\r\n    deleteSelectedItem,\r\n    currentTime,\r\n    videoDuration,\r\n    seekTo,\r\n    setIsPlaying,\r\n    setTimelineZoom,\r\n  ]);\r\n\r\n  // Функция для MediaLibrary - добавление элемента на таймлайн\r\n  const handleAddToTimeline = useCallback((item) => {\r\n    if (smartAddToTimelineRef.current) {\r\n      smartAddToTimelineRef.current(item);\r\n    } else {\r\n      // Fallback - используем обычную логику\r\n      const targetTrackId = item.type === 'video' ? tracks.main[0]?.id :\r\n                           item.type === 'audio' || item.type === 'music' ? tracks.audio[0]?.id :\r\n                           tracks.overlays[0]?.id;\r\n      \r\n      if (targetTrackId) {\r\n        addToTimeline(item, currentTime, targetTrackId);\r\n      }\r\n    }\r\n  }, [addToTimeline, currentTime, tracks]);\r\n\r\n  // Обработчик для получения функции умного добавления из Timeline\r\n  const handleSmartAddToTimeline = useCallback((smartAddFunction) => {\r\n    smartAddToTimelineRef.current = smartAddFunction;\r\n  }, []);\r\n\r\n  // Пример медиа элементов (в реальном приложении они будут приходить из MediaLibrary)\r\n  const sampleMediaItems = [\r\n    {\r\n      id: 'video-1',\r\n      name: 'Пример видео',\r\n      type: 'video',\r\n      duration: 30,\r\n      url: '/path/to/video.mp4',\r\n      thumbnail: '/path/to/thumbnail.jpg',\r\n    },\r\n    {\r\n      id: 'audio-1',\r\n      name: 'Фоновая музыка',\r\n      type: 'audio',\r\n      duration: 60,\r\n      url: '/path/to/audio.mp3',\r\n    },\r\n    {\r\n      id: 'image-1',\r\n      name: 'Логотип',\r\n      type: 'image',\r\n      duration: 5,\r\n      url: '/path/to/image.png',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      <div className=\"max-w-7xl mx-auto space-y-6\">\r\n        {/* Заголовок */}\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            Видеоредактор\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            Перетаскивайте медиа-файлы на таймлайн и создавайте видео\r\n          </p>\r\n        </div>\r\n\r\n        {/* Основной контент */}\r\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-6\">\r\n          {/* Видеоплеер */}\r\n          <div className=\"xl:col-span-2\">\r\n            <VideoPlayer\r\n              timelineItems={timelineItems}\r\n              currentTime={currentTime}\r\n              videoDuration={videoDuration}\r\n              isPlaying={isPlaying}\r\n              setIsPlaying={setIsPlaying}\r\n              setCurrentTime={setCurrentTime}\r\n              formatTime={formatTime}\r\n              seekTo={seekTo}\r\n            />\r\n          </div>\r\n\r\n          {/* Медиатека (заглушка) */}\r\n          <div className=\"bg-white rounded-2xl shadow-sm border-2 border-gray-200 p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">\r\n              Медиатека\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              {sampleMediaItems.map(item => (\r\n                <div\r\n                  key={item.id}\r\n                  className=\"p-3 border-2 border-dashed border-gray-300 rounded-lg cursor-grab hover:border-blue-400 hover:bg-blue-50 transition-all\"\r\n                  draggable=\"true\"\r\n                  onDragStart={(e) => {\r\n                    setDraggedItem(item);\r\n                    setIsDragging(true);\r\n                    e.dataTransfer.effectAllowed = 'copy';\r\n                  }}\r\n                  onDragEnd={() => {\r\n                    setDraggedItem(null);\r\n                    setIsDragging(false);\r\n                  }}\r\n                  onClick={() => handleAddToTimeline(item)}\r\n                  title=\"Перетащите на таймлайн или кликните для добавления\"\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className={`w-3 h-3 rounded-full ${\r\n                      item.type === 'video' ? 'bg-blue-500' :\r\n                      item.type === 'audio' || item.type === 'music' ? 'bg-green-500' :\r\n                      'bg-purple-500'\r\n                    }`}></div>\r\n                    <div>\r\n                      <p className=\"font-medium text-gray-800\">{item.name}</p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {item.type} • {formatTime(item.duration)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n              <p className=\"text-sm text-blue-700\">\r\n                💡 <strong>Совет:</strong> Элементы автоматически размещаются на правильных дорожках:\r\n              </p>\r\n              <ul className=\"text-xs text-blue-600 mt-1 space-y-1\">\r\n                <li>• Видео → Main Video дорожка</li>\r\n                <li>• Аудио → Audio дорожка</li>\r\n                <li>• Изображения → Overlay дорожка</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Таймлайн */}\r\n        <Timeline\r\n          timelineItems={timelineItems}\r\n          setTimelineItems={setTimelineItems}\r\n          currentTime={currentTime}\r\n          videoDuration={videoDuration}\r\n          setVideoDuration={setVideoDuration}\r\n          selectedTimelineItem={selectedTimelineItem}\r\n          setSelectedTimelineItem={setSelectedTimelineItem}\r\n          timelineZoom={timelineZoom}\r\n          setTimelineZoom={setTimelineZoom}\r\n          tracks={tracks}\r\n          setTracks={setTracks}\r\n          draggedItem={draggedItem}\r\n          draggedTimelineItem={draggedTimelineItem}\r\n          setDraggedTimelineItem={setDraggedTimelineItem}\r\n          dropPreview={dropPreview}\r\n          setDropPreview={setDropPreview}\r\n          isDragging={isDragging}\r\n          isTimelineDragging={isTimelineDragging}\r\n          setIsTimelineDragging={setIsTimelineDragging}\r\n          isResizing={isResizing}\r\n          setIsResizing={setIsResizing}\r\n          copiedItem={copiedItem}\r\n          formatTime={formatTime}\r\n          seekTo={seekTo}\r\n          splitTimelineItem={splitTimelineItem}\r\n          copyTimelineItem={copyTimelineItem}\r\n          pasteTimelineItem={pasteTimelineItem}\r\n          deleteSelectedItem={deleteSelectedItem}\r\n          addToTimeline={addToTimeline}\r\n          insertWithRipple={insertWithRipple}\r\n          applyRippleEffect={applyRippleEffect}\r\n          removeFromTimeline={removeFromTimeline}\r\n          onSmartAddToTimeline={handleSmartAddToTimeline}\r\n        />\r\n\r\n        {/* Информация о состоянии */}\r\n        <div className=\"bg-white rounded-2xl shadow-sm border-2 border-gray-200 p-4\">\r\n          <div className=\"flex flex-wrap items-center gap-6 text-sm text-gray-600\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className={`w-3 h-3 rounded-full ${isPlaying ? 'bg-green-500 animate-pulse' : 'bg-gray-400'}`}></div>\r\n              <span>{isPlaying ? 'Воспроизведение' : 'Пауза'}</span>\r\n            </div>\r\n            \r\n            <div>\r\n              Время: <span className=\"font-mono\">{formatTime(currentTime)}</span>\r\n            </div>\r\n            \r\n            <div>\r\n              Элементов на таймлайне: <span className=\"font-medium\">{timelineItems.length}</span>\r\n            </div>\r\n            \r\n            <div>\r\n              Продолжительность: <span className=\"font-mono\">{formatTime(videoDuration)}</span>\r\n            </div>\r\n            \r\n            {selectedTimelineItem && (\r\n              <div>\r\n                Выбран: <span className=\"font-medium\">{selectedTimelineItem.name}</span>\r\n              </div>\r\n            )}\r\n            \r\n            {copiedItem && (\r\n              <div className=\"text-blue-600\">\r\n                Скопирован: <span className=\"font-medium\">{copiedItem.name}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Горячие клавиши */}\r\n        <div className=\"bg-gray-50 rounded-2xl p-4\">\r\n          <details className=\"cursor-pointer\">\r\n            <summary className=\"font-semibold text-gray-800 mb-2\">\r\n              Горячие клавиши\r\n            </summary>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-600\">\r\n              <div>\r\n                <strong>Воспроизведение:</strong>\r\n                <ul className=\"mt-1 space-y-1\">\r\n                  <li>Пробел - Играть/Пауза</li>\r\n                  <li>← → - Навигация по кадрам</li>\r\n                  <li>Shift + ← → - Навигация по 10 сек</li>\r\n                  <li>Home/End - В начало/конец</li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <strong>Редактирование:</strong>\r\n                <ul className=\"mt-1 space-y-1\">\r\n                  <li>Ctrl + C - Копировать</li>\r\n                  <li>Ctrl + V - Вставить</li>\r\n                  <li>Ctrl + B - Разрезать</li>\r\n                  <li>Del/Backspace - Удалить</li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <strong>Навигация:</strong>\r\n                <ul className=\"mt-1 space-y-1\">\r\n                  <li>+ - Приблизить</li>\r\n                  <li>- - Отдалить</li>\r\n                  <li>0 - Сбросить масштаб</li>\r\n                  <li>Ctrl + Колесо - Зум</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </details>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}