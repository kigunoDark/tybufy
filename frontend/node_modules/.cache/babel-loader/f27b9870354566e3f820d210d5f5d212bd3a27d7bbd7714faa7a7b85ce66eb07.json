{"ast":null,"code":"var _jsxFileName = \"C:\\\\Scriptify\\\\ai-content-studio\\\\frontend\\\\src\\\\components\\\\VideoEditor\\\\VideoEditor.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect, useCallback } from \"react\";\nimport { Upload, Play, Pause, Volume2, X, Video, Music, SkipBack, SkipForward, VolumeX, Copy, Trash2, Split, RotateCw, Crop, Filter, Type, Image, Film, ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VideoEditor = () => {\n  _s();\n  const [mediaLibrary, setMediaLibrary] = useState({\n    videos: [],\n    audios: [],\n    images: []\n  });\n  const [timelineItems, setTimelineItems] = useState([]);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [videoDuration, setVideoDuration] = useState(60);\n  const [selectedTimelineItem, setSelectedTimelineItem] = useState(null);\n  const [timelineZoom, setTimelineZoom] = useState(1);\n  const [activeTab, setActiveTab] = useState(\"videos\");\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentVideoSource, setCurrentVideoSource] = useState(null);\n  const [draggedItem, setDraggedItem] = useState(null);\n  const [draggedTimelineItem, setDraggedTimelineItem] = useState(null);\n  const [dropPreview, setDropPreview] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isTimelineDragging, setIsTimelineDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState(0);\n  const [timelineScroll, setTimelineScroll] = useState(0);\n  const videoRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const audioInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const timelineRef = useRef(null);\n  const timelineScrollRef = useRef(null);\n  const intervalRef = useRef(null);\n  const audioElementsRef = useRef(new Map());\n  const getCurrentTimelineContent = useCallback(() => {\n    const currentItems = timelineItems.filter(item => currentTime >= item.startTime && currentTime < item.startTime + item.duration);\n    return {\n      video: currentItems.find(item => item.type === \"video\" && item.track === 0),\n      audio: currentItems.filter(item => item.type === \"audio\" && item.track === 1),\n      images: currentItems.filter(item => item.type === \"image\" && item.track === 2)\n    };\n  }, [currentTime, timelineItems]);\n\n  // Audio management\n  useEffect(() => {\n    // Create audio elements for all audio timeline items\n    const audioItems = timelineItems.filter(item => item.type === \"audio\");\n\n    // Remove old audio elements that are no longer in timeline\n    audioElementsRef.current.forEach((audioElement, itemId) => {\n      if (!audioItems.find(item => item.id === itemId)) {\n        audioElement.pause();\n        audioElement.src = \"\";\n        audioElementsRef.current.delete(itemId);\n      }\n    });\n\n    // Create new audio elements for new items\n    audioItems.forEach(item => {\n      if (!audioElementsRef.current.has(item.id)) {\n        const audioElement = new Audio();\n        audioElement.src = item.url;\n        audioElement.volume = item.volume || 1;\n        audioElement.preload = \"auto\";\n        audioElementsRef.current.set(item.id, audioElement);\n      } else {\n        // Update volume for existing elements\n        const audioElement = audioElementsRef.current.get(item.id);\n        audioElement.volume = (item.volume || 1) * (isMuted ? 0 : volume);\n      }\n    });\n  }, [timelineItems, volume, isMuted]);\n\n  // Sync audio playback with timeline\n  useEffect(() => {\n    const content = getCurrentTimelineContent();\n\n    // Handle video\n    if (content.video && content.video.url !== currentVideoSource) {\n      setCurrentVideoSource(content.video.url);\n      if (videoRef.current) {\n        const relativeTime = currentTime - content.video.startTime;\n        videoRef.current.currentTime = relativeTime;\n      }\n    } else if (!content.video && content.images.length > 0) {\n      setCurrentVideoSource(content.images[0].url);\n    } else if (!content.video && !content.images.length) {\n      setCurrentVideoSource(null);\n    }\n\n    // Handle all audio elements\n    audioElementsRef.current.forEach((audioElement, itemId) => {\n      const audioItem = timelineItems.find(item => item.id === itemId && item.type === \"audio\");\n      if (!audioItem) return;\n      const audioInCurrentTime = content.audio.find(item => item.id === itemId);\n      if (audioInCurrentTime) {\n        // This audio should be playing\n        const relativeTime = currentTime - audioItem.startTime;\n        const timeDiff = Math.abs(audioElement.currentTime - relativeTime);\n\n        // Sync audio time if needed\n        if (timeDiff > 0.5) {\n          audioElement.currentTime = Math.max(0, relativeTime);\n        }\n\n        // Play/pause audio based on main playback state\n        if (isPlaying && audioElement.paused) {\n          audioElement.play().catch(console.error);\n        } else if (!isPlaying && !audioElement.paused) {\n          audioElement.pause();\n        }\n      } else {\n        // This audio should not be playing\n        if (!audioElement.paused) {\n          audioElement.pause();\n        }\n      }\n    });\n  }, [currentTime, timelineItems, getCurrentTimelineContent, isPlaying, currentVideoSource]);\n\n  // Check for collision with other timeline items\n  const checkCollision = useCallback((newItem, excludeId = null) => {\n    return timelineItems.some(item => {\n      if (item.id === excludeId) return false;\n      if (item.track !== newItem.track) return false;\n      const itemStart = item.startTime;\n      const itemEnd = item.startTime + item.duration;\n      const newStart = newItem.startTime;\n      const newEnd = newItem.startTime + newItem.duration;\n      return newStart < itemEnd && newEnd > itemStart;\n    });\n  }, [timelineItems]);\n\n  // Find the next available position on a track\n  const findNextAvailablePosition = useCallback((track, duration, preferredStart = 0) => {\n    const trackItems = timelineItems.filter(item => item.track === track).sort((a, b) => a.startTime - b.startTime);\n\n    // Try preferred position first\n    if (preferredStart >= 0) {\n      const testItem = {\n        track,\n        startTime: preferredStart,\n        duration\n      };\n      if (!checkCollision(testItem)) {\n        return preferredStart;\n      }\n    }\n\n    // Find gap between items\n    for (let i = 0; i < trackItems.length; i++) {\n      const currentItem = trackItems[i];\n      const nextItem = trackItems[i + 1];\n\n      // Check gap before first item\n      if (i === 0 && currentItem.startTime >= duration) {\n        return 0;\n      }\n\n      // Check gap between items\n      if (nextItem) {\n        const gapStart = currentItem.startTime + currentItem.duration;\n        const gapEnd = nextItem.startTime;\n        const gapSize = gapEnd - gapStart;\n        if (gapSize >= duration) {\n          return gapStart;\n        }\n      }\n    }\n\n    // Place at the end\n    if (trackItems.length === 0) return 0;\n    const lastItem = trackItems[trackItems.length - 1];\n    return lastItem.startTime + lastItem.duration;\n  }, [timelineItems, checkCollision]);\n\n  // Auto-scroll timeline to current time\n  const scrollToCurrentTime = useCallback(() => {\n    if (!timelineScrollRef.current) return;\n    const timelineWidth = videoDuration * 20 * timelineZoom;\n    const viewportWidth = timelineScrollRef.current.clientWidth;\n    const currentTimePosition = currentTime / videoDuration * timelineWidth;\n    const currentScroll = timelineScrollRef.current.scrollLeft;\n\n    // Only scroll if current time is outside the visible area\n    if (currentTimePosition < currentScroll || currentTimePosition > currentScroll + viewportWidth - 100) {\n      timelineScrollRef.current.scrollTo({\n        left: Math.max(0, currentTimePosition - viewportWidth / 2),\n        behavior: 'smooth'\n      });\n    }\n  }, [currentTime, videoDuration, timelineZoom]);\n  useEffect(() => {\n    if (isPlaying) {\n      intervalRef.current = setInterval(() => {\n        setCurrentTime(prev => {\n          const newTime = prev + 0.1;\n          if (newTime >= videoDuration) {\n            setIsPlaying(false);\n            return videoDuration;\n          }\n          return newTime;\n        });\n      }, 100);\n    } else {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [isPlaying, videoDuration]);\n\n  // Auto-scroll when playing\n  useEffect(() => {\n    if (isPlaying) {\n      scrollToCurrentTime();\n    }\n  }, [currentTime, isPlaying, scrollToCurrentTime]);\n  useEffect(() => {\n    if (videoRef.current && currentVideoSource) {\n      const content = getCurrentTimelineContent();\n      if (content.video) {\n        const relativeTime = currentTime - content.video.startTime;\n        const timeDiff = Math.abs(videoRef.current.currentTime - relativeTime);\n        if (timeDiff > 0.5) {\n          videoRef.current.currentTime = relativeTime;\n        }\n        if (isPlaying && videoRef.current.paused) {\n          videoRef.current.play().catch(console.error);\n        } else if (!isPlaying && !videoRef.current.paused) {\n          videoRef.current.pause();\n        }\n      }\n    }\n  }, [currentTime, currentVideoSource, getCurrentTimelineContent, isPlaying]);\n  const handleVideoUpload = event => {\n    const files = event.target.files ? Array.from(event.target.files) : [];\n    files.forEach(file => {\n      const url = URL.createObjectURL(file);\n      const newVideo = {\n        id: Date.now() + Math.random(),\n        name: file.name,\n        url: url,\n        file: file,\n        duration: 10,\n        type: \"video\"\n      };\n      setMediaLibrary(prev => ({\n        ...prev,\n        videos: [...prev.videos, newVideo]\n      }));\n    });\n  };\n  const handleAudioUpload = event => {\n    const files = event.target.files ? Array.from(event.target.files) : [];\n    files.forEach(file => {\n      const url = URL.createObjectURL(file);\n      const newAudio = {\n        id: Date.now() + Math.random(),\n        name: file.name,\n        url: url,\n        file: file,\n        duration: 10,\n        type: \"audio\"\n      };\n      setMediaLibrary(prev => ({\n        ...prev,\n        audios: [...prev.audios, newAudio]\n      }));\n    });\n  };\n  const handleImageUpload = event => {\n    const files = event.target.files ? Array.from(event.target.files) : [];\n    files.forEach(file => {\n      const url = URL.createObjectURL(file);\n      const newImage = {\n        id: Date.now() + Math.random(),\n        name: file.name,\n        url: url,\n        file: file,\n        type: \"image\"\n      };\n      setMediaLibrary(prev => ({\n        ...prev,\n        images: [...prev.images, newImage]\n      }));\n    });\n  };\n  const addToTimeline = (mediaItem, startTime = null) => {\n    const track = mediaItem.type === \"video\" ? 0 : mediaItem.type === \"audio\" ? 1 : 2;\n    const duration = mediaItem.duration || (mediaItem.type === \"image\" ? 5 : 10);\n    const finalStartTime = startTime !== null ? startTime : findNextAvailablePosition(track, duration);\n    const newTimelineItem = {\n      id: Date.now() + Math.random(),\n      mediaId: mediaItem.id,\n      type: mediaItem.type,\n      name: mediaItem.name,\n      url: mediaItem.url,\n      startTime: finalStartTime,\n      duration: duration,\n      track: track,\n      volume: 1,\n      effects: []\n    };\n\n    // Check for collision before adding\n    if (!checkCollision(newTimelineItem)) {\n      setTimelineItems(prev => [...prev, newTimelineItem]);\n      const newEndTime = newTimelineItem.startTime + newTimelineItem.duration;\n      if (newEndTime > videoDuration) {\n        setVideoDuration(newEndTime + 10); // Add some buffer\n      }\n    }\n  };\n  const handlePlayPause = () => {\n    setIsPlaying(!isPlaying);\n  };\n  const seekTo = time => {\n    setCurrentTime(Math.max(0, Math.min(videoDuration, time)));\n  };\n  const removeFromLibrary = (itemId, type) => {\n    setMediaLibrary(prev => ({\n      ...prev,\n      [type]: prev[type].filter(item => item.id !== itemId)\n    }));\n  };\n  const removeFromTimeline = itemId => {\n    // Remove audio element if it exists\n    if (audioElementsRef.current.has(itemId)) {\n      const audioElement = audioElementsRef.current.get(itemId);\n      audioElement.pause();\n      audioElement.src = \"\";\n      audioElementsRef.current.delete(itemId);\n    }\n    setTimelineItems(prev => prev.filter(item => item.id !== itemId));\n    setSelectedTimelineItem(null);\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n  };\n  const handleTimelineClick = e => {\n    if (isDragging || isTimelineDragging) return;\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\n    const timePerPixel = videoDuration / (videoDuration * 20 * timelineZoom);\n    const clickTime = clickX * timePerPixel;\n    seekTo(clickTime);\n  };\n\n  // Timeline scroll handlers\n  const scrollTimeline = direction => {\n    if (!timelineScrollRef.current) return;\n    const scrollAmount = 200;\n    const currentScroll = timelineScrollRef.current.scrollLeft;\n    const newScroll = direction === 'left' ? Math.max(0, currentScroll - scrollAmount) : currentScroll + scrollAmount;\n    timelineScrollRef.current.scrollTo({\n      left: newScroll,\n      behavior: 'smooth'\n    });\n  };\n\n  // Media library drag handlers\n  const handleDragStart = (e, mediaItem) => {\n    setDraggedItem(mediaItem);\n    setIsDragging(true);\n    e.dataTransfer.effectAllowed = \"copy\";\n    e.dataTransfer.setData(\"text/plain\", \"\");\n  };\n  const handleDragEnd = () => {\n    setDraggedItem(null);\n    setDropPreview(null);\n    setIsDragging(false);\n  };\n\n  // Timeline item drag handlers\n  const handleTimelineItemDragStart = (e, timelineItem) => {\n    e.stopPropagation();\n    setDraggedTimelineItem(timelineItem);\n    setIsTimelineDragging(true);\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const itemRect = e.target.getBoundingClientRect();\n    setDragOffset(e.clientX - itemRect.left);\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"text/plain\", \"\");\n  };\n  const handleTimelineItemDragEnd = () => {\n    setDraggedTimelineItem(null);\n    setDropPreview(null);\n    setIsTimelineDragging(false);\n    setDragOffset(0);\n  };\n  const handleDragOver = e => {\n    if (!draggedItem && !draggedTimelineItem) return;\n    e.preventDefault();\n    e.dataTransfer.dropEffect = draggedItem ? \"copy\" : \"move\";\n    const rect = timelineScrollRef.current.getBoundingClientRect();\n    const dragX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft - (draggedTimelineItem ? dragOffset : 0);\n    const timePerPixel = videoDuration / (videoDuration * 20 * timelineZoom);\n    const dropTime = Math.max(0, dragX * timePerPixel);\n    if (draggedItem) {\n      // Dragging from media library\n      const track = draggedItem.type === \"video\" ? 0 : draggedItem.type === \"audio\" ? 1 : 2;\n      const duration = draggedItem.duration || (draggedItem.type === \"image\" ? 5 : 10);\n      const testItem = {\n        track,\n        startTime: dropTime,\n        duration\n      };\n      setDropPreview({\n        time: dropTime,\n        duration: duration,\n        track: track,\n        isValid: !checkCollision(testItem)\n      });\n    } else if (draggedTimelineItem) {\n      // Dragging existing timeline item\n      const testItem = {\n        ...draggedTimelineItem,\n        startTime: dropTime\n      };\n      setDropPreview({\n        time: dropTime,\n        duration: draggedTimelineItem.duration,\n        track: draggedTimelineItem.track,\n        isValid: !checkCollision(testItem, draggedTimelineItem.id)\n      });\n    }\n  };\n  const handleDrop = e => {\n    if (!draggedItem && !draggedTimelineItem || !dropPreview) return;\n    e.preventDefault();\n    if (dropPreview.isValid) {\n      if (draggedItem) {\n        // Adding new item from media library\n        addToTimeline(draggedItem, dropPreview.time);\n      } else if (draggedTimelineItem) {\n        // Moving existing timeline item\n        setTimelineItems(prev => prev.map(item => item.id === draggedTimelineItem.id ? {\n          ...item,\n          startTime: dropPreview.time\n        } : item));\n\n        // Update selected item if it's the one being moved\n        if ((selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === draggedTimelineItem.id) {\n          setSelectedTimelineItem(prev => ({\n            ...prev,\n            startTime: dropPreview.time\n          }));\n        }\n      }\n    }\n    setDropPreview(null);\n    setDraggedItem(null);\n    setDraggedTimelineItem(null);\n    setIsDragging(false);\n    setIsTimelineDragging(false);\n  };\n  const handleDragLeave = e => {\n    var _timelineScrollRef$cu;\n    if (!((_timelineScrollRef$cu = timelineScrollRef.current) !== null && _timelineScrollRef$cu !== void 0 && _timelineScrollRef$cu.contains(e.relatedTarget))) {\n      setDropPreview(null);\n    }\n  };\n  const getTimelineItemStyle = item => {\n    return {\n      left: `${item.startTime / videoDuration * videoDuration * 20 * timelineZoom}px`,\n      width: `${item.duration / videoDuration * videoDuration * 20 * timelineZoom}px`,\n      top: \"4px\"\n    };\n  };\n  const getDropPreviewStyle = () => {\n    if (!dropPreview) return {};\n    return {\n      left: `${dropPreview.time / videoDuration * videoDuration * 20 * timelineZoom}px`,\n      width: `${dropPreview.duration / videoDuration * videoDuration * 20 * timelineZoom}px`,\n      top: \"4px\"\n    };\n  };\n\n  // Cleanup audio elements on unmount\n  useEffect(() => {\n    return () => {\n      audioElementsRef.current.forEach(audioElement => {\n        audioElement.pause();\n        audioElement.src = \"\";\n      });\n      audioElementsRef.current.clear();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-1 h-screen gap-4 p-4 bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-80 bg-white border border-gray-200 flex flex-col rounded-2xl shadow-sm overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 pb-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex bg-gray-100 rounded-xl p-1\",\n          children: [{\n            id: \"videos\",\n            name: \"Videos\",\n            icon: Video\n          }, {\n            id: \"audios\",\n            name: \"Audio\",\n            icon: Music\n          }, {\n            id: \"images\",\n            name: \"Images\",\n            icon: Image\n          }].map(tab => {\n            const IconComponent = tab.icon;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab(tab.id),\n              className: `flex-1 p-3 text-sm font-medium transition-all duration-200 rounded-lg ${activeTab === tab.id ? \"bg-white text-blue-600 shadow-sm\" : \"text-gray-600 hover:text-gray-800\"}`,\n              children: [/*#__PURE__*/_jsxDEV(IconComponent, {\n                size: 16,\n                className: \"mr-2 inline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 19\n              }, this), tab.name]\n            }, tab.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _fileInputRef$current, _audioInputRef$curren, _imageInputRef$curren;\n            if (activeTab === \"videos\") (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();else if (activeTab === \"audios\") (_audioInputRef$curren = audioInputRef.current) === null || _audioInputRef$curren === void 0 ? void 0 : _audioInputRef$curren.click();else (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n          },\n          className: \"w-full p-6 border-2 border-dashed border-gray-300 rounded-2xl hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-200 text-center group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-blue-100 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(Upload, {\n              size: 20,\n              className: \"text-gray-500 group-hover:text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-700 group-hover:text-blue-600\",\n            children: [\"Upload\", \" \", activeTab === \"videos\" ? \"Video\" : activeTab === \"audios\" ? \"Audio\" : \"Images\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: activeTab === \"videos\" ? \"MP4, AVI, MOV up to 2GB\" : activeTab === \"audios\" ? \"MP3, WAV, M4A up to 100MB\" : \"JPG, PNG, GIF up to 10MB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: fileInputRef,\n        type: \"file\",\n        accept: \"video/*\",\n        multiple: true,\n        onChange: handleVideoUpload,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: audioInputRef,\n        type: \"file\",\n        accept: \"audio/*\",\n        multiple: true,\n        onChange: handleAudioUpload,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: imageInputRef,\n        type: \"file\",\n        accept: \"image/*\",\n        multiple: true,\n        onChange: handleImageUpload,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto px-4 pb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [mediaLibrary[activeTab].map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            draggable: \"true\",\n            onDragStart: e => handleDragStart(e, item),\n            onDragEnd: handleDragEnd,\n            className: `flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 hover:shadow-sm transition-all duration-200 cursor-grab active:cursor-grabbing group ${(draggedItem === null || draggedItem === void 0 ? void 0 : draggedItem.id) === item.id ? \"opacity-50\" : \"\"}`,\n            onClick: () => addToTimeline(item),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-3 shadow-sm group-hover:shadow\",\n              children: [activeTab === \"videos\" && /*#__PURE__*/_jsxDEV(Video, {\n                size: 20,\n                className: \"text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 21\n              }, this), activeTab === \"audios\" && /*#__PURE__*/_jsxDEV(Music, {\n                size: 20,\n                className: \"text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 21\n              }, this), activeTab === \"images\" && /*#__PURE__*/_jsxDEV(Image, {\n                size: 20,\n                className: \"text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 truncate\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: activeTab === \"images\" ? \"Image\" : formatTime(item.duration || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                removeFromLibrary(item.id, activeTab);\n              },\n              className: \"opacity-0 group-hover:opacity-100 p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this)), mediaLibrary[activeTab].length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center mx-auto mb-3\",\n              children: [activeTab === \"videos\" && /*#__PURE__*/_jsxDEV(Video, {\n                size: 24,\n                className: \"text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 46\n              }, this), activeTab === \"audios\" && /*#__PURE__*/_jsxDEV(Music, {\n                size: 24,\n                className: \"text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 46\n              }, this), activeTab === \"images\" && /*#__PURE__*/_jsxDEV(Image, {\n                size: 24,\n                className: \"text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium\",\n              children: [\"No \", activeTab, \" uploaded\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400 mt-1\",\n              children: \"Click upload button above\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 bg-black rounded-2xl relative overflow-hidden shadow-sm\",\n        children: [currentVideoSource ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: getCurrentTimelineContent().video ? /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            src: currentVideoSource,\n            className: \"w-full h-full object-contain rounded-2xl\",\n            muted: isMuted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentVideoSource,\n            alt: \"Timeline content\",\n            className: \"w-full h-full object-contain rounded-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 17\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-full flex items-center justify-center text-white\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Film, {\n                size: 40,\n                className: \"opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl opacity-75 font-medium\",\n              children: \"No content at current time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-50\",\n              children: \"Drag media to timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black/60 backdrop-blur-md rounded-2xl p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => seekTo(Math.max(0, currentTime - 10)),\n              className: \"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\",\n              children: /*#__PURE__*/_jsxDEV(SkipBack, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePlayPause,\n              className: \"w-12 h-12 bg-white/20 hover:bg-white/30 rounded-2xl flex items-center justify-center text-white transition-all hover:scale-105\",\n              children: isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(Play, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => seekTo(Math.min(videoDuration, currentTime + 10)),\n              className: \"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\",\n              children: /*#__PURE__*/_jsxDEV(SkipForward, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsMuted(!isMuted),\n                className: \"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\",\n                children: isMuted ? /*#__PURE__*/_jsxDEV(VolumeX, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 30\n                }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 54\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.1\",\n                value: volume,\n                onChange: e => setVolume(parseFloat(e.target.value)),\n                className: \"w-24 accent-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white text-sm font-medium min-w-0\",\n              children: [formatTime(currentTime), \" / \", formatTime(videoDuration)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `h-96 bg-white rounded-2xl shadow-sm border-2 transition-all duration-200 overflow-hidden ${isDragging || isTimelineDragging ? \"border-blue-400 bg-blue-50/20\" : \"border-gray-200\"}`,\n        onDragOver: handleDragOver,\n        onDrop: handleDrop,\n        onDragLeave: handleDragLeave,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-gray-800 font-semibold\",\n              children: [\"Timeline \", (isDragging || isTimelineDragging) && dropPreview && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: dropPreview.isValid ? \"text-green-600\" : \"text-red-600\",\n                children: [\"- \", dropPreview.isValid ? \"Drop to place\" : \"Position blocked\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600 text-sm font-medium\",\n                  children: \"Zoom:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 859,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-xl p-2 border border-gray-200\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0.5\",\n                    max: \"3\",\n                    step: \"0.1\",\n                    value: timelineZoom,\n                    onChange: e => setTimelineZoom(parseFloat(e.target.value)),\n                    className: \"w-24 accent-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => scrollTimeline('left'),\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  title: \"Scroll left\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 884,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => scrollTimeline('right'),\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  title: \"Scroll right\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 891,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 886,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: scrollToCurrentTime,\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  title: \"Follow playhead\",\n                  children: /*#__PURE__*/_jsxDEV(SkipForward, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  children: /*#__PURE__*/_jsxDEV(Split, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  children: /*#__PURE__*/_jsxDEV(Copy, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 907,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 910,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 909,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 relative overflow-x-auto overflow-y-hidden\",\n          ref: timelineScrollRef,\n          onClick: handleTimelineClick,\n          style: {\n            scrollbarWidth: 'thin',\n            scrollbarColor: '#cbd5e1 #f1f5f9'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            style: {\n              width: `${Math.max(videoDuration * 20 * timelineZoom, 800)}px`,\n              minHeight: '300px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-12 bg-gray-50 border-b border-gray-200 relative\",\n              children: [Array.from({\n                length: Math.ceil(videoDuration / 5) + 1\n              }, (_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 h-full border-l border-gray-300\",\n                style: {\n                  left: `${i * 100 * timelineZoom}px`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-600 ml-2 mt-2 inline-block font-medium\",\n                  children: formatTime(i * 5)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 944,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 w-0.5 h-full bg-red-500 z-30 shadow-sm\",\n                style: {\n                  left: `${currentTime / videoDuration * videoDuration * 20 * timelineZoom}px`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-24 bg-white border-b border-gray-100 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\",\n                children: \"Video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 17\n              }, this), timelineItems.filter(item => item.track === 0).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                draggable: \"true\",\n                onDragStart: e => handleTimelineItemDragStart(e, item),\n                onDragEnd: handleTimelineItemDragEnd,\n                className: `absolute h-16 bg-blue-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${(selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === item.id ? \"border-blue-700 shadow-lg\" : \"border-blue-400\"} ${(draggedTimelineItem === null || draggedTimelineItem === void 0 ? void 0 : draggedTimelineItem.id) === item.id ? \"opacity-50 z-20\" : \"\"}`,\n                style: getTimelineItemStyle(item),\n                onClick: e => {\n                  e.stopPropagation();\n                  setSelectedTimelineItem(item);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2 text-white text-xs truncate font-medium\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 23\n                }, this)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 21\n              }, this)), dropPreview && dropPreview.track === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${dropPreview.isValid ? \"bg-blue-300 border-blue-500\" : \"bg-red-300 border-red-500\"}`,\n                style: getDropPreviewStyle()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 997,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-24 bg-white border-b border-gray-100 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\",\n                children: \"Audio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 17\n              }, this), timelineItems.filter(item => item.track === 1).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                draggable: \"true\",\n                onDragStart: e => handleTimelineItemDragStart(e, item),\n                onDragEnd: handleTimelineItemDragEnd,\n                className: `absolute h-16 bg-green-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${(selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === item.id ? \"border-green-700 shadow-lg\" : \"border-green-400\"} ${(draggedTimelineItem === null || draggedTimelineItem === void 0 ? void 0 : draggedTimelineItem.id) === item.id ? \"opacity-50 z-20\" : \"\"}`,\n                style: getTimelineItemStyle(item),\n                onClick: e => {\n                  e.stopPropagation();\n                  setSelectedTimelineItem(item);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2 text-white text-xs truncate font-medium\",\n                  children: [/*#__PURE__*/_jsxDEV(Music, {\n                    size: 12,\n                    className: \"inline mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1035,\n                    columnNumber: 25\n                  }, this), item.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1034,\n                  columnNumber: 23\n                }, this)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1016,\n                columnNumber: 21\n              }, this)), dropPreview && dropPreview.track === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${dropPreview.isValid ? \"bg-green-300 border-green-500\" : \"bg-red-300 border-red-500\"}`,\n                style: getDropPreviewStyle()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-24 bg-white border-b border-gray-100 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\",\n                children: \"Effects\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1056,\n                columnNumber: 17\n              }, this), timelineItems.filter(item => item.track === 2).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                draggable: \"true\",\n                onDragStart: e => handleTimelineItemDragStart(e, item),\n                onDragEnd: handleTimelineItemDragEnd,\n                className: `absolute h-16 bg-purple-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${(selectedTimelineItem === null || selectedTimelineItem === void 0 ? void 0 : selectedTimelineItem.id) === item.id ? \"border-purple-700 shadow-lg\" : \"border-purple-400\"} ${(draggedTimelineItem === null || draggedTimelineItem === void 0 ? void 0 : draggedTimelineItem.id) === item.id ? \"opacity-50 z-20\" : \"\"}`,\n                style: getTimelineItemStyle(item),\n                onClick: e => {\n                  e.stopPropagation();\n                  setSelectedTimelineItem(item);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2 text-white text-xs truncate font-medium\",\n                  children: [/*#__PURE__*/_jsxDEV(Image, {\n                    size: 12,\n                    className: \"inline mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1081,\n                    columnNumber: 25\n                  }, this), item.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1080,\n                  columnNumber: 23\n                }, this)\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1062,\n                columnNumber: 21\n              }, this)), dropPreview && dropPreview.track === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${dropPreview.isValid ? \"bg-purple-300 border-purple-500\" : \"bg-red-300 border-red-500\"}`,\n                style: getDropPreviewStyle()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 751,\n      columnNumber: 7\n    }, this), selectedTimelineItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-80 bg-white border border-gray-200 rounded-2xl p-6 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-800 text-lg\",\n            children: \"Properties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedTimelineItem(null),\n            className: \"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-xl transition-all duration-200\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: selectedTimelineItem.name,\n              className: \"w-full p-3 border border-gray-200 rounded-xl text-sm bg-gray-50 font-medium\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Start Time (seconds)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selectedTimelineItem.startTime,\n              onChange: e => {\n                const newStartTime = parseFloat(e.target.value);\n                const testItem = {\n                  ...selectedTimelineItem,\n                  startTime: newStartTime\n                };\n                if (!checkCollision(testItem, selectedTimelineItem.id)) {\n                  setTimelineItems(prev => prev.map(item => item.id === selectedTimelineItem.id ? {\n                    ...item,\n                    startTime: newStartTime\n                  } : item));\n                  setSelectedTimelineItem(prev => prev ? {\n                    ...prev,\n                    startTime: newStartTime\n                  } : null);\n                }\n              },\n              className: \"w-full p-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\",\n              step: \"0.1\",\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Duration (seconds)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selectedTimelineItem.duration,\n              onChange: e => {\n                const newDuration = parseFloat(e.target.value);\n                const testItem = {\n                  ...selectedTimelineItem,\n                  duration: newDuration\n                };\n                if (!checkCollision(testItem, selectedTimelineItem.id)) {\n                  setTimelineItems(prev => prev.map(item => item.id === selectedTimelineItem.id ? {\n                    ...item,\n                    duration: newDuration\n                  } : item));\n                  setSelectedTimelineItem(prev => prev ? {\n                    ...prev,\n                    duration: newDuration\n                  } : null);\n                }\n              },\n              className: \"w-full p-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\",\n              step: \"0.1\",\n              min: \"0.1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 15\n          }, this), selectedTimelineItem.type === \"audio\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700 mb-2\",\n              children: \"Volume\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-xl p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"2\",\n                step: \"0.1\",\n                value: selectedTimelineItem.volume,\n                onChange: e => {\n                  const newVolume = parseFloat(e.target.value);\n                  setTimelineItems(prev => prev.map(item => item.id === selectedTimelineItem.id ? {\n                    ...item,\n                    volume: newVolume\n                  } : item));\n                  setSelectedTimelineItem(prev => prev ? {\n                    ...prev,\n                    volume: newVolume\n                  } : null);\n                },\n                className: \"w-full accent-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 mt-2 text-center font-medium\",\n                children: [Math.round(selectedTimelineItem.volume * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold text-gray-700\",\n              children: \"Effects\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\",\n                children: [/*#__PURE__*/_jsxDEV(Filter, {\n                  size: 20,\n                  className: \"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1248,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-600 group-hover:text-gray-800\",\n                  children: \"Filter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n                  size: 20,\n                  className: \"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-600 group-hover:text-gray-800\",\n                  children: \"Rotate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\",\n                children: [/*#__PURE__*/_jsxDEV(Crop, {\n                  size: 20,\n                  className: \"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-600 group-hover:text-gray-800\",\n                  children: \"Crop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\",\n                children: [/*#__PURE__*/_jsxDEV(Type, {\n                  size: 20,\n                  className: \"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-600 group-hover:text-gray-800\",\n                  children: \"Text\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeFromTimeline(selectedTimelineItem.id),\n            className: \"w-full p-3 bg-red-500 hover:bg-red-600 text-white rounded-xl text-sm font-semibold transition-all duration-200 hover:shadow-md\",\n            children: [/*#__PURE__*/_jsxDEV(Trash2, {\n              size: 16,\n              className: \"inline mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1290,\n              columnNumber: 17\n            }, this), \"Remove from Timeline\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1106,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 597,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoEditor, \"H7FOeJTVhOTg41S4km4iAxrdEik=\");\n_c = VideoEditor;\nexport default VideoEditor;\nvar _c;\n$RefreshReg$(_c, \"VideoEditor\");","map":{"version":3,"names":["useState","useRef","useEffect","useCallback","Upload","Play","Pause","Volume2","X","Video","Music","SkipBack","SkipForward","VolumeX","Copy","Trash2","Split","RotateCw","Crop","Filter","Type","Image","Film","ChevronLeft","ChevronRight","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoEditor","_s","mediaLibrary","setMediaLibrary","videos","audios","images","timelineItems","setTimelineItems","currentTime","setCurrentTime","videoDuration","setVideoDuration","selectedTimelineItem","setSelectedTimelineItem","timelineZoom","setTimelineZoom","activeTab","setActiveTab","playbackSpeed","setPlaybackSpeed","volume","setVolume","isMuted","setIsMuted","isPlaying","setIsPlaying","currentVideoSource","setCurrentVideoSource","draggedItem","setDraggedItem","draggedTimelineItem","setDraggedTimelineItem","dropPreview","setDropPreview","isDragging","setIsDragging","isTimelineDragging","setIsTimelineDragging","dragOffset","setDragOffset","timelineScroll","setTimelineScroll","videoRef","fileInputRef","audioInputRef","imageInputRef","timelineRef","timelineScrollRef","intervalRef","audioElementsRef","Map","getCurrentTimelineContent","currentItems","filter","item","startTime","duration","video","find","type","track","audio","audioItems","current","forEach","audioElement","itemId","id","pause","src","delete","has","Audio","url","preload","set","get","content","relativeTime","length","audioItem","audioInCurrentTime","timeDiff","Math","abs","max","paused","play","catch","console","error","checkCollision","newItem","excludeId","some","itemStart","itemEnd","newStart","newEnd","findNextAvailablePosition","preferredStart","trackItems","sort","a","b","testItem","i","currentItem","nextItem","gapStart","gapEnd","gapSize","lastItem","scrollToCurrentTime","timelineWidth","viewportWidth","clientWidth","currentTimePosition","currentScroll","scrollLeft","scrollTo","left","behavior","setInterval","prev","newTime","clearInterval","handleVideoUpload","event","files","target","Array","from","file","URL","createObjectURL","newVideo","Date","now","random","name","handleAudioUpload","newAudio","handleImageUpload","newImage","addToTimeline","mediaItem","finalStartTime","newTimelineItem","mediaId","effects","newEndTime","handlePlayPause","seekTo","time","min","removeFromLibrary","removeFromTimeline","formatTime","seconds","mins","floor","secs","toString","padStart","handleTimelineClick","e","rect","getBoundingClientRect","clickX","clientX","timePerPixel","clickTime","scrollTimeline","direction","scrollAmount","newScroll","handleDragStart","dataTransfer","effectAllowed","setData","handleDragEnd","handleTimelineItemDragStart","timelineItem","stopPropagation","itemRect","handleTimelineItemDragEnd","handleDragOver","preventDefault","dropEffect","dragX","dropTime","isValid","handleDrop","map","handleDragLeave","_timelineScrollRef$cu","contains","relatedTarget","getTimelineItemStyle","width","top","getDropPreviewStyle","clear","className","children","icon","tab","IconComponent","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","_fileInputRef$current","_audioInputRef$curren","_imageInputRef$curren","click","ref","accept","multiple","onChange","draggable","onDragStart","onDragEnd","muted","alt","step","value","parseFloat","onDragOver","onDrop","onDragLeave","title","style","scrollbarWidth","scrollbarColor","minHeight","ceil","_","readOnly","newStartTime","newDuration","newVolume","round","_c","$RefreshReg$"],"sources":["C:/Scriptify/ai-content-studio/frontend/src/components/VideoEditor/VideoEditor.jsx"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Upload,\r\n  Play,\r\n  Pause,\r\n  Volume2,\r\n  X,\r\n  Video,\r\n  Music,\r\n  SkipBack,\r\n  SkipForward,\r\n  VolumeX,\r\n  Copy,\r\n  Trash2,\r\n  Split,\r\n  RotateCw,\r\n  Crop,\r\n  Filter,\r\n  Type,\r\n  Image,\r\n  Film,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"lucide-react\";\r\n\r\nconst VideoEditor = () => {\r\n  const [mediaLibrary, setMediaLibrary] = useState({\r\n    videos: [],\r\n    audios: [],\r\n    images: [],\r\n  });\r\n  const [timelineItems, setTimelineItems] = useState([]);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [videoDuration, setVideoDuration] = useState(60);\r\n  const [selectedTimelineItem, setSelectedTimelineItem] = useState(null);\r\n  const [timelineZoom, setTimelineZoom] = useState(1);\r\n  const [activeTab, setActiveTab] = useState(\"videos\");\r\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\r\n  const [volume, setVolume] = useState(1);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentVideoSource, setCurrentVideoSource] = useState(null);\r\n  const [draggedItem, setDraggedItem] = useState(null);\r\n  const [draggedTimelineItem, setDraggedTimelineItem] = useState(null);\r\n  const [dropPreview, setDropPreview] = useState(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isTimelineDragging, setIsTimelineDragging] = useState(false);\r\n  const [dragOffset, setDragOffset] = useState(0);\r\n  const [timelineScroll, setTimelineScroll] = useState(0);\r\n\r\n  const videoRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n  const audioInputRef = useRef(null);\r\n  const imageInputRef = useRef(null);\r\n  const timelineRef = useRef(null);\r\n  const timelineScrollRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const audioElementsRef = useRef(new Map());\r\n\r\n  const getCurrentTimelineContent = useCallback(() => {\r\n    const currentItems = timelineItems.filter(\r\n      (item) =>\r\n        currentTime >= item.startTime &&\r\n        currentTime < item.startTime + item.duration\r\n    );\r\n\r\n    return {\r\n      video: currentItems.find(\r\n        (item) => item.type === \"video\" && item.track === 0\r\n      ),\r\n      audio: currentItems.filter(\r\n        (item) => item.type === \"audio\" && item.track === 1\r\n      ),\r\n      images: currentItems.filter(\r\n        (item) => item.type === \"image\" && item.track === 2\r\n      ),\r\n    };\r\n  }, [currentTime, timelineItems]);\r\n\r\n  // Audio management\r\n  useEffect(() => {\r\n    // Create audio elements for all audio timeline items\r\n    const audioItems = timelineItems.filter(item => item.type === \"audio\");\r\n    \r\n    // Remove old audio elements that are no longer in timeline\r\n    audioElementsRef.current.forEach((audioElement, itemId) => {\r\n      if (!audioItems.find(item => item.id === itemId)) {\r\n        audioElement.pause();\r\n        audioElement.src = \"\";\r\n        audioElementsRef.current.delete(itemId);\r\n      }\r\n    });\r\n\r\n    // Create new audio elements for new items\r\n    audioItems.forEach(item => {\r\n      if (!audioElementsRef.current.has(item.id)) {\r\n        const audioElement = new Audio();\r\n        audioElement.src = item.url;\r\n        audioElement.volume = item.volume || 1;\r\n        audioElement.preload = \"auto\";\r\n        audioElementsRef.current.set(item.id, audioElement);\r\n      } else {\r\n        // Update volume for existing elements\r\n        const audioElement = audioElementsRef.current.get(item.id);\r\n        audioElement.volume = (item.volume || 1) * (isMuted ? 0 : volume);\r\n      }\r\n    });\r\n  }, [timelineItems, volume, isMuted]);\r\n\r\n  // Sync audio playback with timeline\r\n  useEffect(() => {\r\n    const content = getCurrentTimelineContent();\r\n    \r\n    // Handle video\r\n    if (content.video && content.video.url !== currentVideoSource) {\r\n      setCurrentVideoSource(content.video.url);\r\n      if (videoRef.current) {\r\n        const relativeTime = currentTime - content.video.startTime;\r\n        videoRef.current.currentTime = relativeTime;\r\n      }\r\n    } else if (!content.video && content.images.length > 0) {\r\n      setCurrentVideoSource(content.images[0].url);\r\n    } else if (!content.video && !content.images.length) {\r\n      setCurrentVideoSource(null);\r\n    }\r\n\r\n    // Handle all audio elements\r\n    audioElementsRef.current.forEach((audioElement, itemId) => {\r\n      const audioItem = timelineItems.find(item => item.id === itemId && item.type === \"audio\");\r\n      if (!audioItem) return;\r\n\r\n      const audioInCurrentTime = content.audio.find(item => item.id === itemId);\r\n      \r\n      if (audioInCurrentTime) {\r\n        // This audio should be playing\r\n        const relativeTime = currentTime - audioItem.startTime;\r\n        const timeDiff = Math.abs(audioElement.currentTime - relativeTime);\r\n        \r\n        // Sync audio time if needed\r\n        if (timeDiff > 0.5) {\r\n          audioElement.currentTime = Math.max(0, relativeTime);\r\n        }\r\n        \r\n        // Play/pause audio based on main playback state\r\n        if (isPlaying && audioElement.paused) {\r\n          audioElement.play().catch(console.error);\r\n        } else if (!isPlaying && !audioElement.paused) {\r\n          audioElement.pause();\r\n        }\r\n      } else {\r\n        // This audio should not be playing\r\n        if (!audioElement.paused) {\r\n          audioElement.pause();\r\n        }\r\n      }\r\n    });\r\n  }, [currentTime, timelineItems, getCurrentTimelineContent, isPlaying, currentVideoSource]);\r\n\r\n  // Check for collision with other timeline items\r\n  const checkCollision = useCallback((newItem, excludeId = null) => {\r\n    return timelineItems.some(item => {\r\n      if (item.id === excludeId) return false;\r\n      if (item.track !== newItem.track) return false;\r\n      \r\n      const itemStart = item.startTime;\r\n      const itemEnd = item.startTime + item.duration;\r\n      const newStart = newItem.startTime;\r\n      const newEnd = newItem.startTime + newItem.duration;\r\n      \r\n      return (newStart < itemEnd && newEnd > itemStart);\r\n    });\r\n  }, [timelineItems]);\r\n\r\n  // Find the next available position on a track\r\n  const findNextAvailablePosition = useCallback((track, duration, preferredStart = 0) => {\r\n    const trackItems = timelineItems\r\n      .filter(item => item.track === track)\r\n      .sort((a, b) => a.startTime - b.startTime);\r\n    \r\n    // Try preferred position first\r\n    if (preferredStart >= 0) {\r\n      const testItem = { track, startTime: preferredStart, duration };\r\n      if (!checkCollision(testItem)) {\r\n        return preferredStart;\r\n      }\r\n    }\r\n    \r\n    // Find gap between items\r\n    for (let i = 0; i < trackItems.length; i++) {\r\n      const currentItem = trackItems[i];\r\n      const nextItem = trackItems[i + 1];\r\n      \r\n      // Check gap before first item\r\n      if (i === 0 && currentItem.startTime >= duration) {\r\n        return 0;\r\n      }\r\n      \r\n      // Check gap between items\r\n      if (nextItem) {\r\n        const gapStart = currentItem.startTime + currentItem.duration;\r\n        const gapEnd = nextItem.startTime;\r\n        const gapSize = gapEnd - gapStart;\r\n        \r\n        if (gapSize >= duration) {\r\n          return gapStart;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Place at the end\r\n    if (trackItems.length === 0) return 0;\r\n    const lastItem = trackItems[trackItems.length - 1];\r\n    return lastItem.startTime + lastItem.duration;\r\n  }, [timelineItems, checkCollision]);\r\n\r\n  // Auto-scroll timeline to current time\r\n  const scrollToCurrentTime = useCallback(() => {\r\n    if (!timelineScrollRef.current) return;\r\n    \r\n    const timelineWidth = videoDuration * 20 * timelineZoom;\r\n    const viewportWidth = timelineScrollRef.current.clientWidth;\r\n    const currentTimePosition = (currentTime / videoDuration) * timelineWidth;\r\n    const currentScroll = timelineScrollRef.current.scrollLeft;\r\n    \r\n    // Only scroll if current time is outside the visible area\r\n    if (currentTimePosition < currentScroll || currentTimePosition > currentScroll + viewportWidth - 100) {\r\n      timelineScrollRef.current.scrollTo({\r\n        left: Math.max(0, currentTimePosition - viewportWidth / 2),\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }, [currentTime, videoDuration, timelineZoom]);\r\n\r\n  useEffect(() => {\r\n    if (isPlaying) {\r\n      intervalRef.current = setInterval(() => {\r\n        setCurrentTime((prev) => {\r\n          const newTime = prev + 0.1;\r\n          if (newTime >= videoDuration) {\r\n            setIsPlaying(false);\r\n            return videoDuration;\r\n          }\r\n          return newTime;\r\n        });\r\n      }, 100);\r\n    } else {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, [isPlaying, videoDuration]);\r\n\r\n  // Auto-scroll when playing\r\n  useEffect(() => {\r\n    if (isPlaying) {\r\n      scrollToCurrentTime();\r\n    }\r\n  }, [currentTime, isPlaying, scrollToCurrentTime]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current && currentVideoSource) {\r\n      const content = getCurrentTimelineContent();\r\n      if (content.video) {\r\n        const relativeTime = currentTime - content.video.startTime;\r\n        const timeDiff = Math.abs(videoRef.current.currentTime - relativeTime);\r\n\r\n        if (timeDiff > 0.5) {\r\n          videoRef.current.currentTime = relativeTime;\r\n        }\r\n\r\n        if (isPlaying && videoRef.current.paused) {\r\n          videoRef.current.play().catch(console.error);\r\n        } else if (!isPlaying && !videoRef.current.paused) {\r\n          videoRef.current.pause();\r\n        }\r\n      }\r\n    }\r\n  }, [currentTime, currentVideoSource, getCurrentTimelineContent, isPlaying]);\r\n\r\n  const handleVideoUpload = (event) => {\r\n    const files = event.target.files ? Array.from(event.target.files) : [];\r\n    files.forEach((file) => {\r\n      const url = URL.createObjectURL(file);\r\n      const newVideo = {\r\n        id: Date.now() + Math.random(),\r\n        name: file.name,\r\n        url: url,\r\n        file: file,\r\n        duration: 10,\r\n        type: \"video\",\r\n      };\r\n\r\n      setMediaLibrary((prev) => ({\r\n        ...prev,\r\n        videos: [...prev.videos, newVideo],\r\n      }));\r\n    });\r\n  };\r\n\r\n  const handleAudioUpload = (event) => {\r\n    const files = event.target.files ? Array.from(event.target.files) : [];\r\n    files.forEach((file) => {\r\n      const url = URL.createObjectURL(file);\r\n      const newAudio = {\r\n        id: Date.now() + Math.random(),\r\n        name: file.name,\r\n        url: url,\r\n        file: file,\r\n        duration: 10,\r\n        type: \"audio\",\r\n      };\r\n\r\n      setMediaLibrary((prev) => ({\r\n        ...prev,\r\n        audios: [...prev.audios, newAudio],\r\n      }));\r\n    });\r\n  };\r\n\r\n  const handleImageUpload = (event) => {\r\n    const files = event.target.files ? Array.from(event.target.files) : [];\r\n    files.forEach((file) => {\r\n      const url = URL.createObjectURL(file);\r\n      const newImage = {\r\n        id: Date.now() + Math.random(),\r\n        name: file.name,\r\n        url: url,\r\n        file: file,\r\n        type: \"image\",\r\n      };\r\n\r\n      setMediaLibrary((prev) => ({\r\n        ...prev,\r\n        images: [...prev.images, newImage],\r\n      }));\r\n    });\r\n  };\r\n\r\n  const addToTimeline = (mediaItem, startTime = null) => {\r\n    const track = mediaItem.type === \"video\" ? 0 : mediaItem.type === \"audio\" ? 1 : 2;\r\n    const duration = mediaItem.duration || (mediaItem.type === \"image\" ? 5 : 10);\r\n    \r\n    const finalStartTime = startTime !== null ? startTime : \r\n      findNextAvailablePosition(track, duration);\r\n\r\n    const newTimelineItem = {\r\n      id: Date.now() + Math.random(),\r\n      mediaId: mediaItem.id,\r\n      type: mediaItem.type,\r\n      name: mediaItem.name,\r\n      url: mediaItem.url,\r\n      startTime: finalStartTime,\r\n      duration: duration,\r\n      track: track,\r\n      volume: 1,\r\n      effects: [],\r\n    };\r\n\r\n    // Check for collision before adding\r\n    if (!checkCollision(newTimelineItem)) {\r\n      setTimelineItems((prev) => [...prev, newTimelineItem]);\r\n\r\n      const newEndTime = newTimelineItem.startTime + newTimelineItem.duration;\r\n      if (newEndTime > videoDuration) {\r\n        setVideoDuration(newEndTime + 10); // Add some buffer\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  const seekTo = (time) => {\r\n    setCurrentTime(Math.max(0, Math.min(videoDuration, time)));\r\n  };\r\n\r\n  const removeFromLibrary = (itemId, type) => {\r\n    setMediaLibrary((prev) => ({\r\n      ...prev,\r\n      [type]: prev[type].filter((item) => item.id !== itemId),\r\n    }));\r\n  };\r\n\r\n  const removeFromTimeline = (itemId) => {\r\n    // Remove audio element if it exists\r\n    if (audioElementsRef.current.has(itemId)) {\r\n      const audioElement = audioElementsRef.current.get(itemId);\r\n      audioElement.pause();\r\n      audioElement.src = \"\";\r\n      audioElementsRef.current.delete(itemId);\r\n    }\r\n    \r\n    setTimelineItems((prev) => prev.filter((item) => item.id !== itemId));\r\n    setSelectedTimelineItem(null);\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  const handleTimelineClick = (e) => {\r\n    if (isDragging || isTimelineDragging) return;\r\n    \r\n    const rect = timelineScrollRef.current.getBoundingClientRect();\r\n    const clickX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft;\r\n    const timePerPixel = videoDuration / (videoDuration * 20 * timelineZoom);\r\n    const clickTime = clickX * timePerPixel;\r\n    seekTo(clickTime);\r\n  };\r\n\r\n  // Timeline scroll handlers\r\n  const scrollTimeline = (direction) => {\r\n    if (!timelineScrollRef.current) return;\r\n    \r\n    const scrollAmount = 200;\r\n    const currentScroll = timelineScrollRef.current.scrollLeft;\r\n    const newScroll = direction === 'left' \r\n      ? Math.max(0, currentScroll - scrollAmount)\r\n      : currentScroll + scrollAmount;\r\n    \r\n    timelineScrollRef.current.scrollTo({\r\n      left: newScroll,\r\n      behavior: 'smooth'\r\n    });\r\n  };\r\n\r\n  // Media library drag handlers\r\n  const handleDragStart = (e, mediaItem) => {\r\n    setDraggedItem(mediaItem);\r\n    setIsDragging(true);\r\n    e.dataTransfer.effectAllowed = \"copy\";\r\n    e.dataTransfer.setData(\"text/plain\", \"\");\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    setDraggedItem(null);\r\n    setDropPreview(null);\r\n    setIsDragging(false);\r\n  };\r\n\r\n  // Timeline item drag handlers\r\n  const handleTimelineItemDragStart = (e, timelineItem) => {\r\n    e.stopPropagation();\r\n    setDraggedTimelineItem(timelineItem);\r\n    setIsTimelineDragging(true);\r\n    \r\n    const rect = timelineScrollRef.current.getBoundingClientRect();\r\n    const itemRect = e.target.getBoundingClientRect();\r\n    setDragOffset(e.clientX - itemRect.left);\r\n    \r\n    e.dataTransfer.effectAllowed = \"move\";\r\n    e.dataTransfer.setData(\"text/plain\", \"\");\r\n  };\r\n\r\n  const handleTimelineItemDragEnd = () => {\r\n    setDraggedTimelineItem(null);\r\n    setDropPreview(null);\r\n    setIsTimelineDragging(false);\r\n    setDragOffset(0);\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    if (!draggedItem && !draggedTimelineItem) return;\r\n    \r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = draggedItem ? \"copy\" : \"move\";\r\n    \r\n    const rect = timelineScrollRef.current.getBoundingClientRect();\r\n    const dragX = e.clientX - rect.left + timelineScrollRef.current.scrollLeft - (draggedTimelineItem ? dragOffset : 0);\r\n    const timePerPixel = videoDuration / (videoDuration * 20 * timelineZoom);\r\n    const dropTime = Math.max(0, dragX * timePerPixel);\r\n    \r\n    if (draggedItem) {\r\n      // Dragging from media library\r\n      const track = draggedItem.type === \"video\" ? 0 : draggedItem.type === \"audio\" ? 1 : 2;\r\n      const duration = draggedItem.duration || (draggedItem.type === \"image\" ? 5 : 10);\r\n      const testItem = { track, startTime: dropTime, duration };\r\n      \r\n      setDropPreview({\r\n        time: dropTime,\r\n        duration: duration,\r\n        track: track,\r\n        isValid: !checkCollision(testItem)\r\n      });\r\n    } else if (draggedTimelineItem) {\r\n      // Dragging existing timeline item\r\n      const testItem = { \r\n        ...draggedTimelineItem, \r\n        startTime: dropTime \r\n      };\r\n      \r\n      setDropPreview({\r\n        time: dropTime,\r\n        duration: draggedTimelineItem.duration,\r\n        track: draggedTimelineItem.track,\r\n        isValid: !checkCollision(testItem, draggedTimelineItem.id)\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    if ((!draggedItem && !draggedTimelineItem) || !dropPreview) return;\r\n    \r\n    e.preventDefault();\r\n    \r\n    if (dropPreview.isValid) {\r\n      if (draggedItem) {\r\n        // Adding new item from media library\r\n        addToTimeline(draggedItem, dropPreview.time);\r\n      } else if (draggedTimelineItem) {\r\n        // Moving existing timeline item\r\n        setTimelineItems(prev => prev.map(item => \r\n          item.id === draggedTimelineItem.id \r\n            ? { ...item, startTime: dropPreview.time }\r\n            : item\r\n        ));\r\n        \r\n        // Update selected item if it's the one being moved\r\n        if (selectedTimelineItem?.id === draggedTimelineItem.id) {\r\n          setSelectedTimelineItem(prev => ({ ...prev, startTime: dropPreview.time }));\r\n        }\r\n      }\r\n    }\r\n    \r\n    setDropPreview(null);\r\n    setDraggedItem(null);\r\n    setDraggedTimelineItem(null);\r\n    setIsDragging(false);\r\n    setIsTimelineDragging(false);\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    if (!timelineScrollRef.current?.contains(e.relatedTarget)) {\r\n      setDropPreview(null);\r\n    }\r\n  };\r\n\r\n  const getTimelineItemStyle = (item) => {\r\n    return {\r\n      left: `${\r\n        (item.startTime / videoDuration) *\r\n        videoDuration *\r\n        20 *\r\n        timelineZoom\r\n      }px`,\r\n      width: `${\r\n        (item.duration / videoDuration) *\r\n        videoDuration *\r\n        20 *\r\n        timelineZoom\r\n      }px`,\r\n      top: \"4px\",\r\n    };\r\n  };\r\n\r\n  const getDropPreviewStyle = () => {\r\n    if (!dropPreview) return {};\r\n    \r\n    return {\r\n      left: `${\r\n        (dropPreview.time / videoDuration) *\r\n        videoDuration *\r\n        20 *\r\n        timelineZoom\r\n      }px`,\r\n      width: `${\r\n        (dropPreview.duration / videoDuration) *\r\n        videoDuration *\r\n        20 *\r\n        timelineZoom\r\n      }px`,\r\n      top: \"4px\",\r\n    };\r\n  };\r\n\r\n  // Cleanup audio elements on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      audioElementsRef.current.forEach((audioElement) => {\r\n        audioElement.pause();\r\n        audioElement.src = \"\";\r\n      });\r\n      audioElementsRef.current.clear();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-1 h-screen gap-4 p-4 bg-gray-100\">\r\n      {/* ЛЕВАЯ ПАНЕЛЬ - МЕДИА БИБЛИОТЕКА */}\r\n      <div className=\"w-80 bg-white border border-gray-200 flex flex-col rounded-2xl shadow-sm overflow-hidden\">\r\n        {/* ТАБЫ ДЛЯ ТИПОВ МЕДИА */}\r\n        <div className=\"p-4 pb-0\">\r\n          <div className=\"flex bg-gray-100 rounded-xl p-1\">\r\n            {[\r\n              { id: \"videos\", name: \"Videos\", icon: Video },\r\n              { id: \"audios\", name: \"Audio\", icon: Music },\r\n              { id: \"images\", name: \"Images\", icon: Image },\r\n            ].map((tab) => {\r\n              const IconComponent = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`flex-1 p-3 text-sm font-medium transition-all duration-200 rounded-lg ${\r\n                    activeTab === tab.id\r\n                      ? \"bg-white text-blue-600 shadow-sm\"\r\n                      : \"text-gray-600 hover:text-gray-800\"\r\n                  }`}\r\n                >\r\n                  <IconComponent size={16} className=\"mr-2 inline\" />\r\n                  {tab.name}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* КНОПКА ЗАГРУЗКИ */}\r\n        <div className=\"p-4\">\r\n          <button\r\n            onClick={() => {\r\n              if (activeTab === \"videos\") fileInputRef.current?.click();\r\n              else if (activeTab === \"audios\") audioInputRef.current?.click();\r\n              else imageInputRef.current?.click();\r\n            }}\r\n            className=\"w-full p-6 border-2 border-dashed border-gray-300 rounded-2xl hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-200 text-center group\"\r\n          >\r\n            <div className=\"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-blue-100 transition-colors\">\r\n              <Upload\r\n                size={20}\r\n                className=\"text-gray-500 group-hover:text-blue-500\"\r\n              />\r\n            </div>\r\n            <span className=\"text-sm font-medium text-gray-700 group-hover:text-blue-600\">\r\n              Upload{\" \"}\r\n              {activeTab === \"videos\"\r\n                ? \"Video\"\r\n                : activeTab === \"audios\"\r\n                ? \"Audio\"\r\n                : \"Images\"}\r\n            </span>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              {activeTab === \"videos\"\r\n                ? \"MP4, AVI, MOV up to 2GB\"\r\n                : activeTab === \"audios\"\r\n                ? \"MP3, WAV, M4A up to 100MB\"\r\n                : \"JPG, PNG, GIF up to 10MB\"}\r\n            </p>\r\n          </button>\r\n        </div>\r\n\r\n        {/* СКРЫТЫЕ ИНПУТЫ ДЛЯ ФАЙЛОВ */}\r\n        <input\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          accept=\"video/*\"\r\n          multiple\r\n          onChange={handleVideoUpload}\r\n          className=\"hidden\"\r\n        />\r\n        <input\r\n          ref={audioInputRef}\r\n          type=\"file\"\r\n          accept=\"audio/*\"\r\n          multiple\r\n          onChange={handleAudioUpload}\r\n          className=\"hidden\"\r\n        />\r\n        <input\r\n          ref={imageInputRef}\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          multiple\r\n          onChange={handleImageUpload}\r\n          className=\"hidden\"\r\n        />\r\n\r\n        {/* СПИСОК МЕДИА ФАЙЛОВ */}\r\n        <div className=\"flex-1 overflow-y-auto px-4 pb-4\">\r\n          <div className=\"space-y-2\">\r\n            {mediaLibrary[activeTab].map((item) => (\r\n              <div\r\n                key={item.id}\r\n                draggable=\"true\"\r\n                onDragStart={(e) => handleDragStart(e, item)}\r\n                onDragEnd={handleDragEnd}\r\n                className={`flex items-center p-3 bg-gray-50 rounded-xl hover:bg-gray-100 hover:shadow-sm transition-all duration-200 cursor-grab active:cursor-grabbing group ${\r\n                  draggedItem?.id === item.id ? \"opacity-50\" : \"\"\r\n                }`}\r\n                onClick={() => addToTimeline(item)}\r\n              >\r\n                <div className=\"w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-3 shadow-sm group-hover:shadow\">\r\n                  {activeTab === \"videos\" && (\r\n                    <Video size={20} className=\"text-blue-500\" />\r\n                  )}\r\n                  {activeTab === \"audios\" && (\r\n                    <Music size={20} className=\"text-green-500\" />\r\n                  )}\r\n                  {activeTab === \"images\" && (\r\n                    <Image size={20} className=\"text-purple-500\" />\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                    {item.name}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {activeTab === \"images\"\r\n                      ? \"Image\"\r\n                      : formatTime(item.duration || 0)}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    removeFromLibrary(item.id, activeTab);\r\n                  }}\r\n                  className=\"opacity-0 group-hover:opacity-100 p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200\"\r\n                >\r\n                  <Trash2 size={14} />\r\n                </button>\r\n              </div>\r\n            ))}\r\n            \r\n            {/* СООБЩЕНИЕ КОГДА НЕТ ФАЙЛОВ */}\r\n            {mediaLibrary[activeTab].length === 0 && (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <div className=\"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center mx-auto mb-3\">\r\n                  {activeTab === \"videos\" && <Video size={24} className=\"text-gray-400\" />}\r\n                  {activeTab === \"audios\" && <Music size={24} className=\"text-gray-400\" />}\r\n                  {activeTab === \"images\" && <Image size={24} className=\"text-gray-400\" />}\r\n                </div>\r\n                <p className=\"text-sm font-medium\">No {activeTab} uploaded</p>\r\n                <p className=\"text-xs text-gray-400 mt-1\">Click upload button above</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ОСНОВНАЯ ОБЛАСТЬ */}\r\n      <div className=\"flex-1 flex flex-col gap-4\">\r\n        {/* ВИДЕО ПРЕВЬЮ */}\r\n        <div className=\"flex-1 bg-black rounded-2xl relative overflow-hidden shadow-sm\">\r\n          {currentVideoSource ? (\r\n            <>\r\n              {getCurrentTimelineContent().video ? (\r\n                <video\r\n                  ref={videoRef}\r\n                  src={currentVideoSource}\r\n                  className=\"w-full h-full object-contain rounded-2xl\"\r\n                  muted={isMuted}\r\n                />\r\n              ) : (\r\n                <img\r\n                  src={currentVideoSource}\r\n                  alt=\"Timeline content\"\r\n                  className=\"w-full h-full object-contain rounded-2xl\"\r\n                />\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div className=\"w-full h-full flex items-center justify-center text-white\">\r\n              <div className=\"text-center\">\r\n                <div className=\"w-20 h-20 bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n                  <Film size={40} className=\"opacity-50\" />\r\n                </div>\r\n                <p className=\"text-xl opacity-75 font-medium\">\r\n                  No content at current time\r\n                </p>\r\n                <p className=\"text-sm opacity-50\">\r\n                  Drag media to timeline\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* ПЛЕЙЕР КОНТРОЛЫ */}\r\n          <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black/60 backdrop-blur-md rounded-2xl p-4\">\r\n            <div className=\"flex items-center space-x-6\">\r\n              <button\r\n                onClick={() => seekTo(Math.max(0, currentTime - 10))}\r\n                className=\"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\"\r\n              >\r\n                <SkipBack size={20} />\r\n              </button>\r\n              <button\r\n                onClick={handlePlayPause}\r\n                className=\"w-12 h-12 bg-white/20 hover:bg-white/30 rounded-2xl flex items-center justify-center text-white transition-all hover:scale-105\"\r\n              >\r\n                {isPlaying ? <Pause size={24} /> : <Play size={24} />}\r\n              </button>\r\n              <button\r\n                onClick={() =>\r\n                  seekTo(Math.min(videoDuration, currentTime + 10))\r\n                }\r\n                className=\"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\"\r\n              >\r\n                <SkipForward size={20} />\r\n              </button>\r\n              <div className=\"flex items-center space-x-3\">\r\n                <button\r\n                  onClick={() => setIsMuted(!isMuted)}\r\n                  className=\"text-white hover:text-blue-400 transition-colors p-1 rounded-lg hover:bg-white/10\"\r\n                >\r\n                  {isMuted ? <VolumeX size={20} /> : <Volume2 size={20} />}\r\n                </button>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"1\"\r\n                  step=\"0.1\"\r\n                  value={volume}\r\n                  onChange={(e) => setVolume(parseFloat(e.target.value))}\r\n                  className=\"w-24 accent-blue-500\"\r\n                />\r\n              </div>\r\n              <span className=\"text-white text-sm font-medium min-w-0\">\r\n                {formatTime(currentTime)} / {formatTime(videoDuration)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* TIMELINE */}\r\n        <div \r\n          className={`h-96 bg-white rounded-2xl shadow-sm border-2 transition-all duration-200 overflow-hidden ${\r\n            isDragging || isTimelineDragging \r\n              ? \"border-blue-400 bg-blue-50/20\" \r\n              : \"border-gray-200\"\r\n          }`}\r\n          onDragOver={handleDragOver}\r\n          onDrop={handleDrop}\r\n          onDragLeave={handleDragLeave}\r\n        >\r\n          {/* ЗАГОЛОВОК TIMELINE */}\r\n          <div className=\"bg-gray-50 p-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"text-gray-800 font-semibold\">\r\n                Timeline {(isDragging || isTimelineDragging) && \r\n                  dropPreview && (\r\n                    <span className={dropPreview.isValid ? \"text-green-600\" : \"text-red-600\"}>\r\n                      - {dropPreview.isValid ? \"Drop to place\" : \"Position blocked\"}\r\n                    </span>\r\n                  )\r\n                }\r\n              </h4>\r\n              <div className=\"flex items-center space-x-6\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <span className=\"text-gray-600 text-sm font-medium\">\r\n                    Zoom:\r\n                  </span>\r\n                  <div className=\"bg-white rounded-xl p-2 border border-gray-200\">\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0.5\"\r\n                      max=\"3\"\r\n                      step=\"0.1\"\r\n                      value={timelineZoom}\r\n                      onChange={(e) =>\r\n                        setTimelineZoom(parseFloat(e.target.value))\r\n                      }\r\n                      className=\"w-24 accent-blue-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* КОНТРОЛЫ ПРОКРУТКИ TIMELINE */}\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button \r\n                    onClick={() => scrollTimeline('left')}\r\n                    className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\"\r\n                    title=\"Scroll left\"\r\n                  >\r\n                    <ChevronLeft size={16} />\r\n                  </button>\r\n                  <button \r\n                    onClick={() => scrollTimeline('right')}\r\n                    className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\"\r\n                    title=\"Scroll right\"\r\n                  >\r\n                    <ChevronRight size={16} />\r\n                  </button>\r\n                  <button \r\n                    onClick={scrollToCurrentTime}\r\n                    className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\"\r\n                    title=\"Follow playhead\"\r\n                  >\r\n                    <SkipForward size={16} />\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\">\r\n                    <Split size={16} />\r\n                  </button>\r\n                  <button className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\">\r\n                    <Copy size={16} />\r\n                  </button>\r\n                  <button className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-all duration-200\">\r\n                    <Trash2 size={16} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* AREA TIMELINE */}\r\n          <div\r\n            className=\"flex-1 relative overflow-x-auto overflow-y-hidden\"\r\n            ref={timelineScrollRef}\r\n            onClick={handleTimelineClick}\r\n            style={{ \r\n              scrollbarWidth: 'thin',\r\n              scrollbarColor: '#cbd5e1 #f1f5f9'\r\n            }}\r\n          >\r\n            <div \r\n              className=\"relative\"\r\n              style={{ \r\n                width: `${Math.max(videoDuration * 20 * timelineZoom, 800)}px`,\r\n                minHeight: '300px'\r\n              }}\r\n            >\r\n              {/* ВРЕМЕННАЯ ЛИНЕЙКА */}\r\n              <div className=\"h-12 bg-gray-50 border-b border-gray-200 relative\">\r\n                {Array.from(\r\n                  { length: Math.ceil(videoDuration / 5) + 1 },\r\n                  (_, i) => (\r\n                    <div\r\n                      key={i}\r\n                      className=\"absolute top-0 h-full border-l border-gray-300\"\r\n                      style={{ left: `${i * 100 * timelineZoom}px` }}\r\n                    >\r\n                      <span className=\"text-xs text-gray-600 ml-2 mt-2 inline-block font-medium\">\r\n                        {formatTime(i * 5)}\r\n                      </span>\r\n                    </div>\r\n                  )\r\n                )}\r\n                <div\r\n                  className=\"absolute top-0 w-0.5 h-full bg-red-500 z-30 shadow-sm\"\r\n                  style={{\r\n                    left: `${\r\n                      (currentTime / videoDuration) *\r\n                      videoDuration *\r\n                      20 *\r\n                      timelineZoom\r\n                    }px`,\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              {/* VIDEO TRACK */}\r\n              <div className=\"h-24 bg-white border-b border-gray-100 relative\">\r\n                <div className=\"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\">\r\n                  Video\r\n                </div>\r\n                {timelineItems\r\n                  .filter((item) => item.track === 0)\r\n                  .map((item) => (\r\n                    <div\r\n                      key={item.id}\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => handleTimelineItemDragStart(e, item)}\r\n                      onDragEnd={handleTimelineItemDragEnd}\r\n                      className={`absolute h-16 bg-blue-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${\r\n                        selectedTimelineItem?.id === item.id\r\n                          ? \"border-blue-700 shadow-lg\"\r\n                          : \"border-blue-400\"\r\n                      } ${\r\n                        draggedTimelineItem?.id === item.id ? \"opacity-50 z-20\" : \"\"\r\n                      }`}\r\n                      style={getTimelineItemStyle(item)}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setSelectedTimelineItem(item);\r\n                      }}\r\n                    >\r\n                      <div className=\"p-2 text-white text-xs truncate font-medium\">\r\n                        {item.name}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                \r\n                {/* PREVIEW ДЛЯ VIDEO TRACK */}\r\n                {dropPreview && dropPreview.track === 0 && (\r\n                  <div\r\n                    className={`absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${\r\n                      dropPreview.isValid \r\n                        ? \"bg-blue-300 border-blue-500\" \r\n                        : \"bg-red-300 border-red-500\"\r\n                    }`}\r\n                    style={getDropPreviewStyle()}\r\n                  />\r\n                )}\r\n              </div>\r\n\r\n              {/* AUDIO TRACK */}\r\n              <div className=\"h-24 bg-white border-b border-gray-100 relative\">\r\n                <div className=\"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\">\r\n                  Audio\r\n                </div>\r\n                {timelineItems\r\n                  .filter((item) => item.track === 1)\r\n                  .map((item) => (\r\n                    <div\r\n                      key={item.id}\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => handleTimelineItemDragStart(e, item)}\r\n                      onDragEnd={handleTimelineItemDragEnd}\r\n                      className={`absolute h-16 bg-green-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${\r\n                        selectedTimelineItem?.id === item.id\r\n                          ? \"border-green-700 shadow-lg\"\r\n                          : \"border-green-400\"\r\n                      } ${\r\n                        draggedTimelineItem?.id === item.id ? \"opacity-50 z-20\" : \"\"\r\n                      }`}\r\n                      style={getTimelineItemStyle(item)}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setSelectedTimelineItem(item);\r\n                      }}\r\n                    >\r\n                      <div className=\"p-2 text-white text-xs truncate font-medium\">\r\n                        <Music size={12} className=\"inline mr-1\" />\r\n                        {item.name}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                \r\n                {/* PREVIEW ДЛЯ AUDIO TRACK */}\r\n                {dropPreview && dropPreview.track === 1 && (\r\n                  <div\r\n                    className={`absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${\r\n                      dropPreview.isValid \r\n                        ? \"bg-green-300 border-green-500\" \r\n                        : \"bg-red-300 border-red-500\"\r\n                    }`}\r\n                    style={getDropPreviewStyle()}\r\n                  />\r\n                )}\r\n              </div>\r\n\r\n              {/* EFFECTS TRACK */}\r\n              <div className=\"h-24 bg-white border-b border-gray-100 relative\">\r\n                <div className=\"absolute left-4 top-3 text-gray-700 text-sm font-semibold z-10 bg-white px-2\">\r\n                  Effects\r\n                </div>\r\n                {timelineItems\r\n                  .filter((item) => item.track === 2)\r\n                  .map((item) => (\r\n                    <div\r\n                      key={item.id}\r\n                      draggable=\"true\"\r\n                      onDragStart={(e) => handleTimelineItemDragStart(e, item)}\r\n                      onDragEnd={handleTimelineItemDragEnd}\r\n                      className={`absolute h-16 bg-purple-500 rounded-xl border-2 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md ${\r\n                        selectedTimelineItem?.id === item.id\r\n                          ? \"border-purple-700 shadow-lg\"\r\n                          : \"border-purple-400\"\r\n                      } ${\r\n                        draggedTimelineItem?.id === item.id ? \"opacity-50 z-20\" : \"\"\r\n                      }`}\r\n                      style={getTimelineItemStyle(item)}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setSelectedTimelineItem(item);\r\n                      }}\r\n                    >\r\n                      <div className=\"p-2 text-white text-xs truncate font-medium\">\r\n                        <Image size={12} className=\"inline mr-1\" />\r\n                        {item.name}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                \r\n                {/* PREVIEW ДЛЯ EFFECTS TRACK */}\r\n                {dropPreview && dropPreview.track === 2 && (\r\n                  <div\r\n                    className={`absolute h-16 rounded-xl border-2 border-dashed opacity-75 ${\r\n                      dropPreview.isValid \r\n                        ? \"bg-purple-300 border-purple-500\" \r\n                        : \"bg-red-300 border-red-500\"\r\n                    }`}\r\n                    style={getDropPreviewStyle()}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ПРАВАЯ ПАНЕЛЬ - PROPERTIES */}\r\n      {selectedTimelineItem && (\r\n        <div className=\"w-80 bg-white border border-gray-200 rounded-2xl p-6 shadow-sm\">\r\n          <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"font-semibold text-gray-800 text-lg\">\r\n                Properties\r\n              </h4>\r\n              <button\r\n                onClick={() => setSelectedTimelineItem(null)}\r\n                className=\"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-xl transition-all duration-200\"\r\n              >\r\n                <X size={16} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={selectedTimelineItem.name}\r\n                  className=\"w-full p-3 border border-gray-200 rounded-xl text-sm bg-gray-50 font-medium\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Start Time (seconds)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={selectedTimelineItem.startTime}\r\n                  onChange={(e) => {\r\n                    const newStartTime = parseFloat(e.target.value);\r\n                    const testItem = { ...selectedTimelineItem, startTime: newStartTime };\r\n                    \r\n                    if (!checkCollision(testItem, selectedTimelineItem.id)) {\r\n                      setTimelineItems((prev) =>\r\n                        prev.map((item) =>\r\n                          item.id === selectedTimelineItem.id\r\n                            ? { ...item, startTime: newStartTime }\r\n                            : item\r\n                        )\r\n                      );\r\n                      setSelectedTimelineItem((prev) =>\r\n                        prev\r\n                          ? {\r\n                              ...prev,\r\n                              startTime: newStartTime,\r\n                            }\r\n                          : null\r\n                      );\r\n                    }\r\n                  }}\r\n                  className=\"w-full p-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n                  step=\"0.1\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Duration (seconds)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={selectedTimelineItem.duration}\r\n                  onChange={(e) => {\r\n                    const newDuration = parseFloat(e.target.value);\r\n                    const testItem = { ...selectedTimelineItem, duration: newDuration };\r\n                    \r\n                    if (!checkCollision(testItem, selectedTimelineItem.id)) {\r\n                      setTimelineItems((prev) =>\r\n                        prev.map((item) =>\r\n                          item.id === selectedTimelineItem.id\r\n                            ? { ...item, duration: newDuration }\r\n                            : item\r\n                        )\r\n                      );\r\n                      setSelectedTimelineItem((prev) =>\r\n                        prev\r\n                          ? {\r\n                              ...prev,\r\n                              duration: newDuration,\r\n                            }\r\n                          : null\r\n                      );\r\n                    }\r\n                  }}\r\n                  className=\"w-full p-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\r\n                  step=\"0.1\"\r\n                  min=\"0.1\"\r\n                />\r\n              </div>\r\n\r\n              {selectedTimelineItem.type === \"audio\" && (\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                    Volume\r\n                  </label>\r\n                  <div className=\"bg-gray-50 rounded-xl p-4\">\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0\"\r\n                      max=\"2\"\r\n                      step=\"0.1\"\r\n                      value={selectedTimelineItem.volume}\r\n                      onChange={(e) => {\r\n                        const newVolume = parseFloat(e.target.value);\r\n                        setTimelineItems((prev) =>\r\n                          prev.map((item) =>\r\n                            item.id === selectedTimelineItem.id\r\n                              ? { ...item, volume: newVolume }\r\n                              : item\r\n                          )\r\n                        );\r\n                        setSelectedTimelineItem((prev) =>\r\n                          prev\r\n                            ? {\r\n                                ...prev,\r\n                                volume: newVolume,\r\n                              }\r\n                            : null\r\n                        );\r\n                      }}\r\n                      className=\"w-full accent-blue-500\"\r\n                    />\r\n                    <div className=\"text-sm text-gray-600 mt-2 text-center font-medium\">\r\n                      {Math.round(selectedTimelineItem.volume * 100)}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"space-y-3\">\r\n                <label className=\"block text-sm font-semibold text-gray-700\">\r\n                  Effects\r\n                </label>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <button className=\"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\">\r\n                    <Filter\r\n                      size={20}\r\n                      className=\"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-600 group-hover:text-gray-800\">\r\n                      Filter\r\n                    </span>\r\n                  </button>\r\n                  <button className=\"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\">\r\n                    <RotateCw\r\n                      size={20}\r\n                      className=\"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-600 group-hover:text-gray-800\">\r\n                      Rotate\r\n                    </span>\r\n                  </button>\r\n                  <button className=\"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\">\r\n                    <Crop\r\n                      size={20}\r\n                      className=\"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-600 group-hover:text-gray-800\">\r\n                      Crop\r\n                    </span>\r\n                  </button>\r\n                  <button className=\"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 text-center group\">\r\n                    <Type\r\n                      size={20}\r\n                      className=\"mx-auto mb-2 text-gray-500 group-hover:text-gray-700\"\r\n                    />\r\n                    <span className=\"text-sm font-medium text-gray-600 group-hover:text-gray-800\">\r\n                      Text\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => removeFromTimeline(selectedTimelineItem.id)}\r\n                className=\"w-full p-3 bg-red-500 hover:bg-red-600 text-white rounded-xl text-sm font-semibold transition-all duration-200 hover:shadow-md\"\r\n              >\r\n                <Trash2 size={16} className=\"inline mr-2\" />\r\n                Remove from Timeline\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}